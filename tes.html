<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ApCake - Delicious Cakes & Cupcakes</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* ... existing styles ... */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow-x: hidden;
            max-width: 100%;
            padding-top: 100px;
        }

        /* Header */
        header {
            background: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 15px 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .search-section {
            /* --- Core Positioning --- */
            position: fixed;
            /* Fixes the element relative to the viewport */
            top: 20px;
            /* 20px from the top */
            left: 50%;
            /* Moves the left edge to the center */
            transform: translateX(-50%);
            /* Pulls the element back by half its own width to perfectly center it */
            z-index: 1001;
            /* Ensures it stays on top of other content */

            /* --- Layout & Spacing --- */
            display: flex;
            align-items: center;
            gap: 20px;
            /* Space between search bar and phone icon */

            /* --- Appearance --- */
            padding: 10px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            /* Frosted glass effect for modern browsers */
            border-radius: 50px;
            /* Pill shape */
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .search-bar {
            position: relative;
            /* CRITICAL: This is the anchor for the search-results dropdown */
            display: flex;
            align-items: center;
            width: 500px;
            /* Or any width you prefer */
        }

        #searchInput {
            width: 100%;
            border: none;
            outline: none;
            padding: 10px 15px;
            font-size: 16px;
            background: transparent;
            /* Makes the input blend with the container */
            color: #333;
        }

        #searchButton {
            border: none;
            background: transparent;
            cursor: pointer;
            padding: 10px;
            color: #555;
            font-size: 16px;
        }

        #searchButton:hover {
            color: #e85d75;
        }

        /* Phone Icon Styling */
        .phone-icon {
            font-size: 20px;
            color: #333;
            cursor: pointer;
            transition: transform 0.2s ease;
            padding-right: 10px;
            /* Adds some space inside the pill shape */
        }

        .phone-icon:hover {
            transform: scale(1.1);
            color: #e85d75;
        }


        /* --- CORRECTED & REFINED SEARCH RESULTS --- */
        .search-results {
            /* --- Positioning --- */
            position: absolute;
            /* Positions it relative to the .search-bar */
            top: calc(100% + 10px);
            /* Positions it below the search bar with a 10px gap */
            left: 0;
            width: 100%;
            /* Makes it the same width as the search-bar */

            /* --- Appearance --- */
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);

            /* --- Content Flow --- */
            max-height: 450px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            /* Hidden by default */
        }

        .search-results.active {
            display: block;
            /* Show when active */
        }

        /* --- Item Styling (Your original styles are great, just minor tweaks) --- */

        .search-result-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-result-item:hover {
            background: #f9f9f9;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-img {
            width: 60px;
            /* Slightly smaller for a cleaner look */
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        .search-result-info {
            flex: 1;
        }

        .search-result-info h4 {
            font-size: 15px;
            /* Slightly larger for better readability */
            margin: 0 0 5px 0;
            color: #333;
            font-weight: 600;
        }

        .search-result-info .price {
            color: #e85d75;
            font-weight: bold;
            font-size: 16px;
        }

        .search-result-info .category {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }

        /* No Results & Loading States */
        .search-no-results,
        .search-loading {
            padding: 30px;
            text-align: center;
            color: #999;
        }

        .search-no-results i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #ddd;
        }

        .cart-icon {
            background: #749c77;
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #333;
            color: #fff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
        }

        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            display: flex;
            gap: 20px;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            flex-shrink: 0;
            position: sticky;
            top: 120px;
            align-self: flex-start;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        /* Scrollbar styling untuk sidebar (opsional, agar lebih rapi) */
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: #e85d75;
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: #d14d63;
        }

        .sidebar-section {
            background: #e85d75;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .sidebar-section h3 {
            margin-bottom: 15px;
            font-size: 18px;
        }

        .sidebar-section ul {
            list-style: none;
        }

        .sidebar-section ul li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: padding-left 0.3s;
        }

        .sidebar ul li a {
            text-decoration: none;
            color: #fff;
            padding: 8px 0;
        }

        .sidebar-section ul li:hover {
            padding-left: 10px;
        }

        /* Button scrol ke atas */
        /* Scroll to Top Button */
        .scroll-top-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #e85d75;
            color: #fff;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(232, 93, 117, 0.4);
            transition: all 0.3s;
            z-index: 1000;
        }

        .scroll-top-btn.show {
            display: flex;
        }

        .scroll-top-btn:hover {
            background: #d14d63;
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(232, 93, 117, 0.6);
        }

        .scroll-top-btn:active {
            transform: translateY(-2px);
        }

        .product-list {
            list-style: none;
        }

        .product-item {
            display: flex;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .product-item img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 5px;
        }

        .product-info h4 {
            font-size: 13px;
            margin-bottom: 5px;
        }

        .product-info .price {
            color: #e85d75;
            font-weight: bold;
        }

        /* Main Content */
        .main-content {
            flex: 1;
        }

        /* Hero Banner */
        .hero-banner {
            background: linear-gradient(135deg, #f5e6e8 0%, #fdf2f4 100%);
            border-radius: 10px;
            padding: 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .hero-text h1 {
            font-size: 48px;
            color: #e85d75;
            margin-bottom: 20px;
            font-style: italic;
        }

        .hero-text p {
            color: #666;
            margin-bottom: 25px;
            max-width: 400px;
        }

        .btn-primary {
            background: #fff;
            color: #e85d75;
            padding: 12px 30px;
            border: 2px solid #e85d75;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: #e85d75;
            color: #fff;
        }

        .hero-image img {
            max-width: 400px;
            height: auto;
            border-radius: 20px;
        }

        /* Product Categories */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .category-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(232, 93, 117, 0.9);
            color: #fff;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
        }

        /* Section Title */
        .section-title {
            margin: 40px 0 25px;
            font-size: 28px;
            color: #333;
            position: relative;
            padding-bottom: 10px;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #e85d75;
        }

        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .product-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s;
            position: relative;
        }

        .product-card:hover {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            transform: translateY(-5px);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-details {
            padding: 15px;
        }

        .product-details h3 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #333;
        }

        .product-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .product-price .price {
            color: #e85d75;
            font-weight: bold;
            font-size: 18px;
        }

        .add-to-cart {
            width: 100%;
            background: #e85d75;
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .add-to-cart:hover {
            background: #d14d63;
        }

        /* === MODAL STYLES === */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: #fff;
            border-radius: 15px;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #fff;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            z-index: 10;
        }

        .modal-close:hover {
            background: #e85d75;
            color: #fff;
            transform: rotate(90deg);
        }

        .modal-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
        }

        .modal-main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
        }

        .modal-info-section h2 {
            font-size: 32px;
            color: #333;
            margin-bottom: 10px;
        }

        .modal-category {
            display: inline-block;
            background: #f5e6e8;
            color: #e85d75;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .modal-price {
            font-size: 36px;
            color: #e85d75;
            font-weight: bold;
            margin: 20px 0;
        }

        .modal-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .modal-stars {
            color: #ffc107;
            font-size: 18px;
        }

        .modal-rating-text {
            color: #666;
            font-size: 14px;
        }

        .modal-description {
            color: #666;
            line-height: 1.8;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }

        .modal-details-list {
            list-style: none;
            margin-bottom: 25px;
        }

        .modal-details-list li {
            padding: 10px 0;
            color: #666;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-details-list li i {
            color: #e85d75;
            width: 20px;
        }

        .modal-quantity {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .modal-quantity label {
            font-weight: bold;
            color: #333;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 5px;
        }

        .quantity-btn {
            background: #fff;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            color: #e85d75;
            transition: all 0.3s;
        }

        .quantity-btn:hover {
            background: #e85d75;
            color: #fff;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            border: none;
            font-size: 16px;
            font-weight: bold;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
        }

        .btn-add-cart {
            flex: 1;
            background: #e85d75;
            color: #fff;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-add-cart:hover {
            background: #d14d63;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(232, 93, 117, 0.3);
        }

        .btn-whatsapp {
            flex: 1;
            background: #25D366;
            color: #fff;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-whatsapp:hover {
            background: #1fb855;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }

        /* Navbar font color to match main page */
        .nav-item h3 {
            color: #2C2C2C;
        }

        .nav-item p {
            color: #5A5A5A;
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
            }

            .product-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .category-grid {
                grid-template-columns: 1fr;
            }

            .features {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }

            .hero-banner {
                flex-direction: column;
                text-align: center;
            }

            /* Modal responsive */
            .modal-body {
                grid-template-columns: 1fr;
                padding: 20px;
            }

            .modal-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .product-grid {
                grid-template-columns: 1fr;
            }

            .blog-grid {
                grid-template-columns: 1fr;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
        }   

        /* WARNA: Dominan biru ‚Äî override warna (HANYA ubah warna) */
        :root{
            --color-primary: #6EC1E4;   /* Baby Blue - headings */
            --color-accent:  #4DA3D9;   /* Icon / accents */
            --color-hover:   #A8EAF9;   /* Hover ringan */
            --color-bg:      #F0FAFF;   /* Background very light blue */
            --color-text:    #274556;   /* Teks dark blue-gray */
            --color-cta:     #3B82B5;   /* CTA / tombol utama */
        }

        /* Header */
        header {
            background: linear-gradient(180deg, rgba(240,250,255,0.98), rgba(240,250,255,0.95)) !important;
            box-shadow: 0 2px 5px rgba(39,69,86,0.06) !important;
        }

        /* Search area */
        .search-section {
            background: rgba(240,250,255,0.95) !important;
            box-shadow: 0 8px 30px rgba(39,69,86,0.06) !important;
        }
        #searchInput { color: var(--color-text) !important; }
        #searchButton { color: var(--color-accent) !important; }
        #searchButton:hover { color: var(--color-hover) !important; }

        .phone-icon {
            color: var(--color-accent) !important;
        }
        .phone-icon:hover {
            color: var(--color-hover) !important;
            transform: scale(1.1);
        }

        .search-results {
            background: #fff !important;
            color: var(--color-text) !important;
            box-shadow: 0 10px 30px rgba(39,69,86,0.06) !important;
        }
        .search-result-info .price { color: var(--color-cta) !important; }
        .search-result-info .category { color: rgba(39,69,86,0.6) !important; }

        /* Sidebar */
        .sidebar-section {
            background: var(--color-cta) !important;
            color: #fff !important;
        }
        .sidebar-section ul li { border-bottom: 1px solid rgba(255,255,255,0.12) !important; }

        /* Scroll top button */
        .scroll-top-btn {
            background: var(--color-cta) !important;
            box-shadow: 0 4px 15px rgba(59,130,181,0.2) !important;
        }
        .scroll-top-btn:hover { background: var(--color-accent) !important; }

        /* Hero banner */
        .hero-banner {
            background: linear-gradient(135deg, rgba(110,193,228,0.12) 0%, rgba(240,250,255,0.6) 100%) !important;
        }
        .hero-text h1 { color: var(--color-primary) !important; }
        .hero-text p { color: rgba(39,69,86,0.8) !important; }

        .btn-primary {
            background: #fff !important;
            color: var(--color-cta) !important;
            border: 2px solid var(--color-cta) !important;
        }
        .btn-primary:hover {
            background: var(--color-cta) !important;
            color: #fff !important;
        }

        .category-label {
            background: var(--color-accent) !important;
            color: #fff !important;
        }

        .section-title { color: var(--color-text) !important; }
        .section-title:after { background: var(--color-cta) !important; }

        /* Product cards */
        .product-card {
            background: #fff !important;
            border: 1px solid rgba(39,69,86,0.06) !important;
        }
        .product-details h3 { color: var(--color-text) !important; }
        .product-price .price { color: var(--color-cta) !important; }

        .add-to-cart {
            background: var(--color-cta) !important;
            color: #fff !important;
        }
        .add-to-cart:hover { background: var(--color-accent) !important; }

        /* Modal */
        .modal {
            background: rgba(39,69,86,0.48) !important;
        }
        .modal-content { background: #fff !important; color: var(--color-text) !important; }
        .modal-close:hover { background: var(--color-cta) !important; color: #fff !important; }

        /* Small global link/txt tweaks */
        a { color: var(--color-primary) !important; }
        a:hover { color: var(--color-accent) !important; }

        /* Highlight class for search results ‚Äî responsive to theme */
        .search-highlight { color: var(--color-cta); font-weight: 700; }

        /* ===== Dark mode overrides ===== */
        .darkmode {
            --color-bg: #071822;
            --color-text: #DFF6FF;
            --color-primary: #82CFFF;
            --color-accent: #66B8E6;
            --color-hover: #22576f;
            --color-cta: #1F6F9B;
        }


        .darkmode body { background-color: var(--color-bg) !important; color: var(--color-text) !important; }
        .darkmode header,
        .darkmode .search-section,
        .darkmode .sidebar-section,
        .darkmode .product-card,
        .darkmode .modal-content,
        .darkmode .search-results,
        .darkmode .hero-banner {
            background-color: rgba(6,20,28,0.65) !important;
            color: var(--color-text) !important;
            border-color: rgba(255,255,255,0.04) !important;
            box-shadow: none !important;
        }
        .darkmode .hero-text p{
            color: rgba(223,246,255,0.8) !important;
        }

        .darkmode .btn-primary,
        .darkmode .add-to-cart,
        .darkmode .scroll-top-btn {
            background: var(--color-cta) !important;
            color: #fff !important;
        }
        .darkmode .btn-primary:hover,
        .darkmode .add-to-cart:hover {
            background: var(--color-hover) !important;
            color: var(--color-text) !important;
        }

        .darkmode .search-highlight { color: var(--color-hover); }
        .darkmode a { color: var(--color-primary) !important; }
        .darkmode a:hover { color: var(--color-accent) !important; }

        /* Transitions */
        * { transition: color .12s ease, background-color .12s ease; }
    </style>
</head>

<body>
    <!-- Search Bar -->
    <div class="search-section">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Cari produk..." autocomplete="off">
            <button id="searchButton"><i class="fas fa-search"></i></button>

            <div class="search-results" id="searchResults"></div>
        </div>
        <div class="phone-icon">
            <i class="fa-solid fa-phone"></i>
        </div>
    </div>

    <!-- Tombol Menu -->
    <button class="toggle-btn" id="toggleBtn">Menu</button>

    <!-- Tombol Mobile Menu -->
    <button class="mobile-toggle" id="mobileToggle">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </button>

    <!-- Tombol Darkmode -->
    <button id="theme-switch">üåô Dark Mode</button>

    <!-- Navbar -->
    <div class="nav-container" id="navContainer">
        <nav class="navbar" id="navbar">
            <div class="menu-grid">
                <div class="nav-item home">
                    <a class="nav-link" href="#homebg">
                        <span class="icon">üè†</span>
                        <h3>Home</h3>
                        <p>Temukan manisnya kue di sini</p>
                    </a>
                </div>
                <div class="nav-item sajian">
                    <a class="nav-link" href="#aboutUsPage">
                        <span class="icon">üë§</span>
                        <h3>About</h3>
                        <p>Ketahui lebih dalam tentang kami</p>
                    </a>
                </div>
                <div class="nav-item about">
                    <a class="nav-link" href="#menupop">
                        <span class="icon">ü•á</span>
                        <h3>Menu Populer</h3>
                        <p>Lihat menu populer kami</p>
                    </a>
                </div>
                <div class="nav-item paket">
                    <a class="nav-link" href="#shop">
                        <span class="icon">üç∞</span>
                        <h3>Menu</h3>
                        <p>Kumpulan menu yang lezat dan enak</p>
                    </a>
                </div>
                <div class="nav-item album">
                    <a class="nav-link" href="#">
                        <span class="icon">üéÅ</span>
                        <h3>Paket</h3>
                        <p>Satu paket, sejuta rasa manis</p>
                    </a>
                </div>
                <div class="nav-item meet">
                    <a class="nav-link" href="#meetus">
                        <span class="icon">üìû</span>
                        <h3>Meet Us At</h3>
                        <p>Koleksi manis dari dapur kami</p>
                    </a>
                </div>
            </div>
        </nav>
    </div>
    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>Vertical menu</h3>
                <ul>
                    <li><a href="#cake">Cake</a></li>
                    <li><a href="#bresd">Bread</a></li>
                    <li><a href="#Abon">Abon</a></li>
                    <li><a href="#Cookiekering">Cookie kering</a></li>
                    <li><a href="#Bolu">Bolu</a></li>
                    <li><a href="#paket">Paket hampers</a></li>
                    <li><a href="#paketnas">Nastar</a></li>
                    <li>Menu Tambahan</li>
                </ul>
            </div>
        </aside>

        <!-- Button scrol ke atas -->
        <button class="scroll-top-btn" id="scrollTopBtn" onclick="scrollToTop()">
            <i class="fas fa-arrow-up"></i>
        </button>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Hero Banner -->
            <div id="cake">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Roti Gambung Kuah Srikaya</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/BOLUFINAL/roti/bolugambungsrikaya.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <!-- Today Deals -->
                <h2 class="section-title">Cake</h2>
                <div class="product-grid" id="cake-products"></div>
            </div>
            <!-- Halaman roti -->
            <div id="bresd">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Bread</h2>
                <div class="product-grid" id="bread-products"></div>
            </div>
            <!-- Halaman Abon -->
            <div id="Abon">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Abon</h2>
                <div class="product-grid" id="abon-products"></div>
            </div>
            <!-- Halaman Cookie kering -->
            <div id="Cookiekering">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Cookie kering</h2>
                <div class="product-grid" id="cookiekering-products"></div>
            </div>
            <!-- Halaman Bolu -->
            <div id="Bolu">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Bolu</h2>
                <div class="product-grid" id="cookiebasah-products"></div>
            </div>
            <!-- Halaman paket -->
            <div id="paket">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Paket hampers</h2>
                <div class="product-grid" id="paket-products"></div>
            </div>

            <div id="paketnas">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/beseler.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Nastar</h2>
                <div class="product-grid" id="paket-nastar"></div>
            </div>
        </main>
    </div>

    <!-- === MODAL DETAIL PRODUK === -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-body">
                <div class="modal-image-section">
                    <img id="modalImage" src="" alt="" class="modal-main-image">
                </div>
                <div class="modal-info-section">
                    <span id="modalCategory" class="modal-category"></span>
                    <h2 id="modalTitle"></h2>
                    <div class="modal-rating">
                        <div class="modal-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="modal-rating-text">(4.5/5 - 128 reviews)</span>
                    </div>
                    <div id="modalPrice" class="modal-price"></div>
                    <p id="modalDescription" class="modal-description"></p>
                    <ul class="modal-details-list">
                    </ul>
                    <div class="modal-quantity">
                        <label>Jumlah:</label>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                            <input type="number" class="quantity-input" id="quantityInput" value="1" min="1">
                            <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button class="btn-add-cart" onclick="addToCart()">
                            <i class="fas fa-shopping-cart"></i> Tambah ke Keranjang
                        </button>
                        <button class="btn-whatsapp" onclick="orderWhatsApp()">
                            <i class="fab fa-whatsapp"></i> Pesan via WA
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Show navbar elements on page load
        document.addEventListener('DOMContentLoaded', function () {
            const toggleBtn = document.getElementById('toggleBtn');
            const mobileToggle = document.getElementById('mobileToggle');
            const navContainer = document.querySelector('.nav-container');
            const navbar = document.getElementById('navbar');
            const themeSwitch = document.getElementById('theme-switch');

            if (toggleBtn) toggleBtn.classList.add('show');
            if (mobileToggle) mobileToggle.classList.add('show');
            if (navContainer) navContainer.classList.add('show');
            // Navbar will be hidden by default, only show when toggled
            if (themeSwitch) themeSwitch.classList.add('show');
        });

        // ===== NAVBAR FUNCTIONALITY =====
        const toggleBtn = document.getElementById('toggleBtn');
        const mobileToggle = document.getElementById('mobileToggle');
        const navbar = document.getElementById('navbar');
        const themeSwitch = document.getElementById('theme-switch');

        let isNavOpen = false;

        // Toggle menu functionality
        function toggleMenu() {
            if (!isNavOpen) {
                navbar.classList.add('active');
                navbar.classList.remove('closing');
                toggleBtn.textContent = '‚úï Close';
                mobileToggle.classList.add('active');
                isNavOpen = true;
            } else {
                navbar.classList.add('closing');
                navbar.classList.remove('active');
                toggleBtn.textContent = '‚ò∞ Menu';
                mobileToggle.classList.remove('active');

                setTimeout(() => {
                    navbar.classList.remove('closing');
                }, 400);

                isNavOpen = false;
            }
        }

        // Event listeners for toggle buttons
        toggleBtn.addEventListener('click', toggleMenu);
        mobileToggle.addEventListener('click', toggleMenu);

        // Close menu when clicking nav items
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                if (isNavOpen) {
                    toggleMenu();
                }
                // Navigate to section
                const sectionId = item.classList[1]; // Get second class (home, about, etc.)
                navigateToSection(sectionId);
            });
        });

        // Navigation mapping
        function navigateToSection(sectionClass) {
            let targetId = '';
            switch (sectionClass) {
                case 'home':
                case 'about':
                case 'sajian':
                    targetId = 'cake';
                    break;
                case 'paket':
                    targetId = 'paket';
                    break;
                case 'album':
                case 'meet':
                    targetId = 'paketnas';
                    break;
            }
            if (targetId) {
                const element = document.getElementById(targetId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }

        // Close menu when clicking outside
        document.addEventListener('click', function (event) {
            if (isNavOpen &&
                !navbar.contains(event.target) &&
                !toggleBtn.contains(event.target) &&
                !mobileToggle.contains(event.target)) {
                toggleMenu();
            }
        });

        // Dark mode functionality
        const enableDarkmode = () => {
            document.body.classList.add('darkmode');
            themeSwitch.textContent = "‚èæ";
        }

        const disableDarkmode = () => {
            document.body.classList.remove('darkmode');
            themeSwitch.textContent = "‚òÄ";
        }

        themeSwitch.addEventListener("click", () => {
            const isDarkmode = document.body.classList.contains('darkmode');
            !isDarkmode ? enableDarkmode() : disableDarkmode();
        });

        // Button scrol ke atas
        // Scroll to Top Functionality
        const scrollTopBtn = document.getElementById('scrollTopBtn');

        // Show/hide button based on scroll position
        window.addEventListener('scroll', function () {
            if (window.pageYOffset > 300) {
                scrollTopBtn.classList.add('show');
            } else {
                scrollTopBtn.classList.remove('show');
            }
        });

        // Scroll to top function
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Database Produk - enhanced with descriptions
        const productsDatabase = [
            // Cake
            { id: 1, name: 'Bolu Vanilla Original', price: 20000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/gambungsrikaya.jpg', description: 'Cake lembut dengan krim vanilla yang creamy dan lezat. Cocok untuk berbagai acara spesial.' },
            { id: 2, name: 'Bolu Vanilla Keju', price: 20000, category: 'Cake', image: 'gambar/gambar ilang.jpg', description: 'Cake dengan topping blueberry segar yang manis dan asam. Perpaduan sempurna antara cake lembut dan buah segar.' },
            { id: 3, name: 'Bolu Caramel', price: 25000, category: 'Cake', image: 'gambar/gambar ilang.jpg', description: 'Cake strawberry dengan topping buah strawberry segar. Rasa manis alami berpadu dengan tekstur cake yang lembut.' },
            { id: 4, name: 'Bolu Tapai Singkong', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/gambungcampur.jpg', description: 'Red velvet cake klasik dengan cream cheese frosting yang lezat. Tekstur lembut dengan warna merah cantik.' },
            { id: 5, name: 'Bolu Tapai Ketan', price: 20000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/gambungglapalm.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 6, name: 'Bolu Marmer/Bolu Zebra', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 7, name: 'Bolu Pisang', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 8, name: 'Bolu Coffee', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 9, name: 'Bolu Pandan', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 10, name: 'Bolu Gula Merah/Aren Spikuk', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 11, name: 'Bolu Coklat', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 12, name: 'Brownies Kukus', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 13, name: 'Roll Cake (Bolu Gulung)', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/roti/rotikasur.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            // Bread
            { id: 6, name: 'Roti Coklat', price: 8000, category: 'Bread', image: 'gambar/gambar ilang.jpg', description: 'Roti lembut dengan isian coklat yang lumer. Cocok untuk sarapan atau camilan.' },
            { id: 7, name: 'Roti Keju', price: 9000, category: 'Bread', image: 'gambar/gambar ilang.jpg', description: 'Roti gurih dengan taburan keju mozarella yang meleleh. Sempurna saat hangat.' },
            { id: 8, name: 'Roti Tawar', price: 7000, category: 'Bread', image: 'gambar/gambar ilang.jpg', description: 'Roti tawar premium tanpa pengawet, lembut dan tahan lama. Cocok untuk sandwich atau toast.' },
            // Abon
            { id: 9, name: 'Abon Ayam', price: 25000, category: 'Abon', image: 'gambar/gambar ilang.jpg', description: 'Abon ayam homemade dengan tekstur lembut dan rasa gurih. Dibuat tanpa MSG.' },
            { id: 10, name: 'Abon Sapi', price: 30000, category: 'Abon', image: 'gambar/gambar ilang.jpg', description: 'Abon sapi premium dengan serat halus dan rasa kaya. Cocok untuk lauk atau taburan nasi.' },
            // Cookie Kering
            { id: 11, name: 'Cookie Chocolate Chip', price: 12000, category: 'Cookie Kering', image: 'gambar/gambar ilang.jpg', description: 'Cookie renyah dengan potongan coklat yang melimpah. Favorit keluarga!' },
            { id: 12, name: 'Cookie Vanilla', price: 11000, category: 'Cookie Kering', image: 'gambar/gambar ilang.jpg', description: 'Cookie vanilla klasik dengan aroma wangi dan tekstur renyah sempurna.' },
            // Bolu
            { id: 13, name: 'Rosa mosa', price: 25000, category: 'Bolu', image: 'gambar/vanilla Original.jpg', description: 'Nastar lembut dengan isian nanas homemade yang manis-asam. Camilan wajib lebaran.' },
            { id: 14, name: 'Vanilla Keju', price: 25000, category: 'Bolu', image: 'gambar/vanila keju.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            { id: 15, name: 'Tapai Singkong', price: 25000, category: 'Bolu', image: 'gambar/tapai singkong.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            { id: 16, name: 'Gambung Kuah Sarikaya', price: 25000, category: 'Bolu', image: 'gambar/gambung kuah sarikaya.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            { id: 17, name: 'Tapai Ketan', price: 25000, category: 'Bolu', image: 'gambar/tapai ketan.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            { id: 18, name: 'Marmer', price: 25000, category: 'Bolu', image: 'gambar/marmer.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            { id: 19, name: 'Gula Merah', price: 25000, category: 'Bolu', image: 'gambar/gula merah.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            { id: 20, name: 'Gulung', price: 25000, category: 'Bolu', image: 'gambar/gulung.jpg', description: 'Putri salju dengan tekstur lembut dan taburan gula halus yang melimpah.' },
            // Paket Hampers
            { id: 21, name: 'Paket Ekonomis', price: 100000, category: 'Paket Hampers', image: 'gambar/gambar ilang.jpg', description: 'Paket hemat dengan pilihan kue kering dan basah favorit keluarga. Cocok untuk acara kecil atau hadiah sederhana.', details: ['3 toples 300ml', 'Jenis Cookies tidak dapat dipilih', 'Double nastar tambah harga 15k'] },
            { id: 22, name: 'Paket Reguler', price: 130000, category: 'Paket Hampers', image: 'gambar/gambar ilang.jpg', description: 'Paket lengkap dengan variasi cake, cookies, dan brownies. Ideal untuk ulang tahun atau gathering kecil.', details: ['4 toples 300 ml', 'Jenis Cookies tidak dapat dipilih', 'Double nastar tambah harga 15k'] },
            { id: 23, name: 'Paket Puas', price: 135000, category: 'Paket Hampers', image: 'gambar/gambar ilang.jpg', description: 'Paket besar dengan berbagai jenis kue premium dan abon. Cocok untuk acara keluarga atau corporate gifts.', details: ['3 toples 600ml', 'Jenis Cookies tidak dapat dipilih', 'Double nastar tambah harga 15k'] },
            { id: 24, name: 'Paket Super Hemat', price: 135000, category: 'Paket Hampers', image: 'gambar/gambar ilang.jpg', description: 'Paket ekonomis dengan kualitas premium. Berisi aneka cookies dan cake mini untuk berbagai kebutuhan.', details: ['5 toples 250gr', 'Jenis Cookies tidak dapat dipilih', 'Double nastar tambah harga 15k'] },
            // Paket Nastar
            { id: 25, name: 'Nastar', price: 35000, category: 'Nastar', image: 'gambar/nastar.jpg', description: 'Paket nastar tradisional dengan isian nanas asli. Tekstur lembut dan rasa manis yang autentik. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Lidah Kucing', 'Putri Salju', 'Kastengel', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 26, name: 'Kastengel', price: 35000, category: 'Nastar', image: 'gambar/nastar keju.jpg', description: 'Nastar premium dengan variasi rasa nanas, keju, dan coklat. Kemasan elegan untuk acara spesial. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Milk Cookies (Janit)', 'Sagu Keju', 'Putri Salju', 'Thumbprint Strawberry', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 27, name: 'Putri Salju', price: 35000, category: 'Nastar', image: 'gambar/putri salju.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 28, name: 'Lidah Kucing', price: 35000, category: 'Nastar', image: 'gambar/lidah kucing.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 29, name: 'Thrumbprint Stawberry', price: 35000, category: 'Nastar', image: 'gambar/thrumbprint stawberry.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 30, name: 'Mawar Vanilla', price: 35000, category: 'Nastar', image: 'gambar/mawar vanilla.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 31, name: 'Cookies Palm Suger Cheese', price: 35000, category: 'Nastar', image: 'gambar/palm suger cheese.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 32, name: 'Sagu Keju Pandan', price: 35000, category: 'Nastar', image: 'gambar/sagu keju pandan.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 33, name: 'Sagu Keju Ori', price: 35000, category: 'Nastar', image: 'gambar/sagu keju.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 34, name: 'Nastar Keju', price: 35000, category: 'Nastar', image: 'gambar/nastar keju sungguh.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] }
        ];

        // Fungsi format Rupiah
        function formatRupiah(amount) {
            return 'Rp ' + amount.toLocaleString('id-ID');
        }

        // Fungsi untuk render produk berdasarkan kategori
        function renderProductsByCategory(category, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            const products = productsDatabase.filter(product => {
                const normalizedCategory = product.category.toLowerCase().replace(/\s+/g, '');
                const normalizedTarget = category.toLowerCase().replace(/\s+/g, '');
                return normalizedCategory === normalizedTarget;
            });
            container.innerHTML = '';
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.dataset.productId = product.id;
                productCard.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="product-details">
                    <h3>${product.name}</h3>
                    <div class="product-price">
                        <span class="price">${formatRupiah(product.price)}</span>
                    </div>
                    <button class="add-to-cart" data-product-id="${product.id}">Lihat Detail</button>
                </div>
            `;
                container.appendChild(productCard);
            });
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    const productId = this.dataset.productId;
                    showProductDetail(productId);
                });
            });
        }

        // === MODAL FUNCTIONS ===
        function showProductDetail(productId) {
            const product = productsDatabase.find(p => p.id == productId);
            if (!product) return;
            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalCategory').textContent = product.category;
            document.getElementById('modalPrice').textContent = formatRupiah(product.price);
            document.getElementById('modalDescription').textContent = product.description;
            document.getElementById('modalImage').src = product.image;
            document.getElementById('modalImage').alt = product.name;

            // Populate details list dynamically
            const detailsList = document.querySelector('.modal-details-list');
            detailsList.innerHTML = '';
            if (product.details && product.details.length > 0) {
                product.details.forEach(detail => {
                    const li = document.createElement('li');
                    li.innerHTML = `<i class="fas fa-check-circle"></i> ${detail}`;
                    detailsList.appendChild(li);
                });
            } else {
                // Fallback for products without details
                detailsList.innerHTML = `
                    <li><i class="fas fa-check-circle"></i> Bahan berkualitas premium</li>
                    <li><i class="fas fa-check-circle"></i> Dibuat fresh setiap hari</li>
                    <li><i class="fas fa-check-circle"></i> Tanpa bahan pengawet</li>
                    <li><i class="fas fa-check-circle"></i> Kemasan menarik & aman</li>
                `;
            }

            document.getElementById('quantityInput').value = 1;
            const modal = document.getElementById('productModal');
            modal.dataset.productId = productId;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('productModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function increaseQuantity() {
            const input = document.getElementById('quantityInput');
            input.value = parseInt(input.value) + 1;
        }

        function decreaseQuantity() {
            const input = document.getElementById('quantityInput');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        function addToCart() {
            const modal = document.getElementById('productModal');
            const productId = modal.dataset.productId;
            const product = productsDatabase.find(p => p.id == productId);
            const quantity = document.getElementById('quantityInput').value;
            alert(`${product.name} (${quantity} pcs) berhasil ditambahkan ke keranjang!`);
        }

        function orderWhatsApp() {
            const modal = document.getElementById('productModal');
            const productId = modal.dataset.productId;
            const product = productsDatabase.find(p => p.id == productId);
            const quantity = document.getElementById('quantityInput').value;
            const total = product.price * quantity;
            const message = `Halo, saya ingin memesan:\nProduk: ${product.name}\nJumlah: ${quantity} pcs\nTotal: ${formatRupiah(total)}\nTerima kasih!`;
            const waNumber = '6281234567890'; // Ganti dengan nomor Anda
            const waUrl = `https://wa.me/${waNumber}?text=${encodeURIComponent(message)}`;
            window.open(waUrl, '_blank');
        }

        // Tutup modal saat klik di luar
        document.getElementById('productModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Tutup modal dengan ESC
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Fungsi untuk menginisialisasi semua produk
        function initProductSections() {
            renderProductsByCategory('Cake', 'cake-products');
            renderProductsByCategory('Bread', 'bread-products');
            renderProductsByCategory('Abon', 'abon-products');
            renderProductsByCategory('Cookie Kering', 'cookiekering-products');
            renderProductsByCategory('Bolu', 'cookiebasah-products');
            renderProductsByCategory('Paket Hampers', 'paket-products');
            renderProductsByCategory('Nastar', 'paket-nastar');
        }

        // === SEARCH FUNCTIONALITY (unchanged) ===
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const searchResults = document.getElementById('searchResults');
        let searchTimeout;

        function performSearch(query) {
            clearTimeout(searchTimeout);
            if (query.trim().length === 0) {
                searchResults.classList.remove('active');
                return;
            }
            searchResults.innerHTML = '<div class="search-loading"><i class="fas fa-spinner fa-spin"></i> Mencari...</div>';
            searchResults.classList.add('active');
            searchTimeout = setTimeout(() => {
                const results = productsDatabase.filter(product => {
                    const searchTerm = query.toLowerCase();
                    return product.name.toLowerCase().includes(searchTerm) ||
                        product.category.toLowerCase().includes(searchTerm);
                });
                displaySearchResults(results, query);
            }, 300);
        }

        function displaySearchResults(results, query) {
            if (results.length === 0) {
                searchResults.innerHTML = `
                <div class="search-no-results">
                    <i class="fas fa-search"></i>
                    <p>Tidak ada produk ditemukan untuk "${query}"</p>
                    <p style="font-size: 12px; margin-top: 10px;">Coba cari: cake, roti, abon, cookie</p>
                </div>
            `;
            } else {
                let resultsHTML = '';
                results.forEach(product => {
                    resultsHTML += `
                    <div class="search-result-item" data-product-id="${product.id}" data-category="${product.category}">
                        <img src="${product.image}" alt="${product.name}" class="search-result-img">
                        <div class="search-result-info">
                            <h4>${highlightText(product.name, query)}</h4>
                            <div class="price">${formatRupiah(product.price)}</div>
                            <div class="category">${product.category}</div>
                        </div>
                    </div>
                `;
                });
                searchResults.innerHTML = resultsHTML;
                document.querySelectorAll('.search-result-item').forEach(item => {
                    item.addEventListener('click', function () {
                        const productId = this.dataset.productId;
                        const category = this.dataset.category;
                        handleProductClick(productId, category);
                    });
                });
            }
        }

        function highlightText(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            // gunakan kelas agar warna bisa diubah oleh CSS darkmode
            return text.replace(regex, '<strong class="search-highlight">$1</strong>');
        }

        function handleProductClick(productId, category) {
            searchResults.classList.remove('active');
            searchInput.value = '';
            let targetId = '';
            switch (category) {
                case 'Cake': targetId = 'cake'; break;
                case 'Bread': targetId = 'bresd'; break;
                case 'Abon': targetId = 'Abon'; break;
                case 'Cookie Kering': targetId = 'Cookiekering'; break;
                case 'Bolu': targetId = 'Cookiebasah'; break;
                case 'Paket Hampers': targetId = 'paket'; break;
                case 'Nastar': targetId = 'paketnas'; break;
            }
            if (targetId) {
                const element = document.getElementById(targetId);
                if (element) {
                    const productElement = element.querySelector(`.product-card[data-product-id="${productId}"]`);
                    if (productElement) {
                        productElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        productElement.style.boxShadow = '0 0 20px rgba(232, 93, 117, 0.7)';
                        setTimeout(() => { productElement.style.boxShadow = ''; }, 2000);
                    }
                }
            }
        }

        // Event Listeners
        searchInput.addEventListener('input', (e) => performSearch(e.target.value));
        searchInput.addEventListener('focus', (e) => { if (e.target.value.trim().length > 0) performSearch(e.target.value); });
        searchButton.addEventListener('click', () => performSearch(searchInput.value));
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-bar')) {
                searchResults.classList.remove('active');
            }
        });
        searchInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') { e.preventDefault(); performSearch(searchInput.value); } });

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', initProductSections);
    </script>
</body>
</html>