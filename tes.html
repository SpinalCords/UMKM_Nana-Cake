<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ApCake - Delicious Cakes & Cupcakes</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* ...existing styles ... */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow-x: hidden;
            max-width: 100%;
            padding-top: 100px;
        }

        /* Header */
        header {
            background: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 15px 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .search-section {
            /* --- Core Positioning --- */
            position: fixed;
            /* Fixes the element relative to the viewport */
            top: 20px;
            /* 20px from the top */
            left: 50%;
            /* Moves the left edge to the center */
            transform: translateX(-50%);
            /* Pulls the element back by half its own width to perfectly center it */
            z-index: 1001;
            /* Ensures it stays on top of other content */

            /* --- Layout & Spacing --- */
            display: flex;
            align-items: center;
            gap: 20px;
            /* Space between search bar and phone icon */

            /* --- Appearance --- */
            padding: 10px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            /* Frosted glass effect for modern browsers */
            border-radius: 50px;
            /* Pill shape */
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .search-bar {
            position: relative;
            /* CRITICAL: This is the anchor for the search-results dropdown */
            display: flex;
            align-items: center;
            width: 400px;
            /* Or any width you prefer */
        }

        #searchInput {
            width: 100%;
            border: none;
            outline: none;
            padding: 10px 15px;
            font-size: 16px;
            background: transparent;
            /* Makes the input blend with the container */
            color: #333;
        }

        #searchButton {
            border: none;
            background: transparent;
            cursor: pointer;
            padding: 10px;
            color: #555;
            font-size: 16px;
        }

        #searchButton:hover {
            color: #e85d75;
        }

        /* Phone Icon Styling */
        .phone-icon {
            font-size: 20px;
            color: #333;
            cursor: pointer;
            transition: transform 0.2s ease;
            padding-right: 10px;
            /* Adds some space inside the pill shape */
        }

        .phone-icon:hover {
            transform: scale(1.1);
            color: #e85d75;
        }


        /* --- CORRECTED & REFINED SEARCH RESULTS --- */
        .search-results {
            /* --- Positioning --- */
            position: absolute;
            /* Positions it relative to the .search-bar */
            top: calc(100% + 10px);
            /* Positions it below the search bar with a 10px gap */
            left: 0;
            width: 100%;
            /* Makes it the same width as the search-bar */

            /* --- Appearance --- */
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);

            /* --- Content Flow --- */
            max-height: 450px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            /* Hidden by default */
        }

        .search-results.active {
            display: block;
            /* Show when active */
        }

        /* --- Item Styling (Your original styles are great, just minor tweaks) --- */

        .search-result-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-result-item:hover {
            background: #f9f9f9;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-img {
            width: 60px;
            /* Slightly smaller for a cleaner look */
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        .search-result-info {
            flex: 1;
        }

        .search-result-info h4 {
            font-size: 15px;
            /* Slightly larger for better readability */
            margin: 0 0 5px 0;
            color: #333;
            font-weight: 600;
        }

        .search-result-info .price {
            color: #e85d75;
            font-weight: bold;
            font-size: 16px;
        }

        .search-result-info .category {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }

        /* No Results & Loading States */
        .search-no-results,
        .search-loading {
            padding: 30px;
            text-align: center;
            color: #999;
        }

        .search-no-results i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #ddd;
        }

        .cart-icon {
            background: #749c77;
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #333;
            color: #fff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
        }

        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            display: flex;
            gap: 20px;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            flex-shrink: 0;
            position: sticky;
            top: 120px;
            align-self: flex-start;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        /* Scrollbar styling untuk sidebar (opsional, agar lebih rapi) */
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: #e85d75;
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: #d14d63;
        }

        .sidebar-section {
            background: #e85d75;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .sidebar-section h3 {
            margin-bottom: 15px;
            font-size: 18px;
        }

        .sidebar-section ul {
            list-style: none;
        }

        .sidebar-section ul li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: padding-left 0.3s;
        }

        .sidebar ul li a {
            text-decoration: none;
            color: #fff;
            padding: 8px 0;
        }

        .sidebar-section ul li:hover {
            padding-left: 10px;
        }

        
        .sidebar-section {
            background: var(--color-cta) !important;
            color: #fff !important;
        }
        .sidebar-section ul li { border-bottom: 1px solid rgba(255,255,255,0.12) !important; }
        html.dark .sidebar-section { background: rgba(10,20,40,0.9) !important; color: var(--color-text) !important; }

        /* Dropdown base */
        .dropdown-menu {
            display: none; /* default hidden */
        }

        /* When opened */
        .dropdown.open .dropdown-menu {
            display: block;
        }

        /* Toggle cursor + arrow change */
        .dropdown-toggle {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dropdown.open .dropdown-toggle::after {
            content: "‚ñ¥";
        }

        .dropdown-toggle::after {
            content: "‚ñæ";
            font-size: 14px;
            margin-left: 8px;
        }

        /* Button scrol ke atas */
        /* Scroll to Top Button */
        .scroll-top-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #e85d75;
            color: #fff;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(232, 93, 117, 0.4);
            transition: all 0.3s;
            z-index: 1000;
        }

        .scroll-top-btn.show {
            display: flex;
        }

        .scroll-top-btn:hover {
            background: #d14d63;
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(232, 93, 117, 0.6);
        }

        .scroll-top-btn:active {
            transform: translateY(-2px);
        }

        .product-list {
            list-style: none;
        }

        .product-item {
            display: flex;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .product-item img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 5px;
        }

        .product-info h4 {
            font-size: 13px;
            margin-bottom: 5px;
        }

        .product-info .price {
            color: #e85d75;
            font-weight: bold;
        }

        /* Main Content */
        .main-content {
            flex: 1;
        }

        /* Hero Banner */
        .hero-banner {
            background: linear-gradient(135deg, #f5e6e8 0%, #fdf2f4 100%);
            border-radius: 10px;
            padding: 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .hero-text h1 {
            font-size: 48px;
            color: #e85d75;
            margin-bottom: 20px;
            font-style: italic;
        }

        .hero-text p {
            color: #666;
            margin-bottom: 25px;
            max-width: 400px;
        }

        .btn-primary {
            background: #fff;
            color: #e85d75;
            padding: 12px 30px;
            border: 2px solid #e85d75;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: #e85d75;
            color: #fff;
        }

        .hero-image img {
            max-width: 400px;
            height: auto;
            border-radius: 20px;
            margin: 0 auto;
        }

        /* Product Categories */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .category-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(232, 93, 117, 0.9);
            color: #fff;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
        }

        /* Section Title */
        .section-title {
            margin: 40px 0 25px;
            font-size: 28px;
            color: #333;
            position: relative;
            padding-bottom: 10px;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #e85d75;
        }

        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .product-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s;
            position: relative;
        }

        .product-card:hover {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            transform: translateY(-5px);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-details {
            padding: 15px;
        }

        .product-details h3 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #333;
        }

        .product-sizes {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .product-sizes.cookie-sizes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
            margin-bottom: 12px;
        }

        .product-sizes.cookie-sizes .size-btn {
            font-size: 10px;
            padding: 4px 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .size-btn {
            flex: 1;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 6px 0;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .size-btn.active,
        .size-btn:hover {
            background: #e85d75;
            color: #fff;
            border-color: #e85d75;
        }



        .size-btn:disabled {
            background: #ccc;
            color: #666;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .size-btn:disabled:hover {
            background: #ccc;
            color: #666;
        }

        /* Dropdown styling */
        .size-dropdown {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #e85d75;
            border-radius: 25px;
            background: #fff;
            color: #333;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e85d75' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }

        .size-dropdown:focus {
            outline: none;
            border-color: #d44d63;
            box-shadow: 0 0 0 3px rgba(232, 93, 117, 0.1);
        }

        .size-dropdown:hover {
            border-color: #d44d63;
            background-color: #fef7f8;
        }

        .size-dropdown option {
            padding: 12px 16px;
            background: #fff;
            color: #333;
            font-size: 14px;
            font-weight: 500;
            border-bottom: 1px solid #eee;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .size-dropdown option:last-child {
            border-bottom: none;
        }

        .size-dropdown option:hover {
            background: #f5f5f5;
            color: #e85d75;
        }
        .size-dropdown::placeholder {
            color: #999;
        }
        .modal-sizes {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .modal-sizes.cookie-sizes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
            margin-bottom: 12px;
            justify-content: center;
        }

        .modal-sizes.cookie-sizes .size-btn {
            font-size: 10px;
            padding: 4px 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .product-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .product-price .price {
            color: #e85d75;
            font-weight: bold;
            font-size: 18px;
        }

        .add-to-cart {
            width: 100%;
            background: #e85d75;
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .add-to-cart:hover {
            background: #d14d63;
        }

        /* === MODAL STYLES === */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: #fff;
            border-radius: 15px;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #fff;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            z-index: 10;
        }

        .modal-close:hover {
            background: #e85d75;
            color: #fff;
            transform: rotate(90deg);
        }

        .modal-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
        }

        .modal-main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
        }

        .modal-info-section h2 {
            font-size: 32px;
            color: #333;
            margin-bottom: 10px;
        }

        .modal-category {
            display: inline-block;
            background: #f5e6e8;
            color: #e85d75;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .modal-price {
            font-size: 36px;
            color: #e85d75;
            font-weight: bold;
            margin: 20px 0;
        }

        .modal-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .modal-stars {
            color: #ffc107;
            font-size: 18px;
        }

        .modal-rating-text {
            color: #666;
            font-size: 14px;
        }

        .modal-description {
            color: #666;
            line-height: 1.8;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }

        .modal-details-list {
            list-style: none;
            margin-bottom: 25px;
        }

        .modal-details-list li {
            padding: 10px 0;
            color: #666;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-details-list li i {
            color: #e85d75;
            width: 20px;
        }

        .modal-quantity {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .modal-quantity label {
            font-weight: bold;
            color: #333;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 5px;
        }

        .quantity-btn {
            background: #fff;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            color: #e85d75;
            transition: all 0.3s;
        }

        .quantity-btn:hover {
            background: #e85d75;
            color: #fff;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            border: none;
            font-size: 16px;
            font-weight: bold;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
        }

        .btn-add-cart {
            flex: 1;
            background: #e85d75;
            color: #fff;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-add-cart:hover {
            background: #d14d63;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(232, 93, 117, 0.3);
        }

        .btn-whatsapp {
            flex: 1;
            background: #25D366;
            color: #fff;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-whatsapp:hover {
            background: #1fb855;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }

        /* Navbar font color to match main page */
        .nav-item h3 {
            color: #2C2C2C;
        }

        .nav-item p {
            color: #5A5A5A;
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                width: 82.5%;
                position: fixed;
                margin-top: -25px;
                padding-bottom: 100px;
                z-index: 9999 !important;
            }


            .scroll-top-btn{
                visibility: hidden;
            }

            .product-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .category-grid {
                grid-template-columns: 1fr;
            }

            .features {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }

            .hero-banner {
                flex-direction: column;
                text-align: center;
            }

            /* Modal responsive */
            .modal-body {
                grid-template-columns: 1fr;
                padding: 20px;
            }

            .modal-actions {
                flex-direction: column;
            }

            #theme-switch {
                width: 60px;
                height: 60px;
                padding: 0;
                border-radius: 50%;
                font-size: 26px;
                display: flex;
                align-items: center;
                justify-content: center;

                top: 20px !important;
                right: 20px !important;
                bottom: unset !important;
            }

            .hero-image {
                text-align: center;
            }
            
            .hero-image img {
              max-width: 200px;
              height: auto;
              padding-top: 10px;
              border-radius: 20px;
              margin: 0 auto;
            }

            .paket-menu-item{
                max-width: 100%;
            }

            .paket-section-container {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .product-grid {
                grid-template-columns: 1fr;
            }
            .search-section{
                width: 85%;
            }
            .blog-grid {
                grid-template-columns: 1fr;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
            .paket-menu-item{
                max-width: 61%;
            }

            .paket-item-details h4 {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 360px) {
            .search-section{
                width: 95%;
            }

            .paket-menu-item{
                max-width: 55%;
            }
            .paket-menu-item{
                max-width: 55%;
            }
        }

        /* WARNA: Dominan biru ‚Äî override warna (HANYA ubah warna) */
        :root{
            --color-primary: #6EC1E4;   /* Baby Blue - headings */
            --color-accent:  #4DA3D9;   /* Icon / accents */
            --color-hover:   #A8EAF9;   /* Hover ringan */
            --color-bg:      #F0FAFF;   /* Background very light blue */
            --color-text:    #274556;   /* Teks dark blue-gray */
            --color-cta:     #3B82B5;   /* CTA / tombol utama */
        }

        /* Header */
        header {
            background: linear-gradient(180deg, rgba(240,250,255,0.98), rgba(240,250,255,0.95)) !important;
            box-shadow: 0 2px 5px rgba(39,69,86,0.06) !important;
        }

        /* Search area */
        .search-section {
            background: rgba(240,250,255,0.95) !important;
            box-shadow: 0 8px 30px rgba(39,69,86,0.06) !important;
        }
        #searchInput { color: var(--color-text) !important; }
        #searchButton { color: var(--color-accent) !important; }
        #searchButton:hover { color: var(--color-hover) !important; }

        .phone-icon {
            color: var(--color-accent) !important;
        }
        .phone-icon:hover {
            color: var(--color-hover) !important;
            transform: scale(1.1);
        }

        .search-results {
            background: #fff !important;
            color: var(--color-text) !important;
            box-shadow: 0 10px 30px rgba(39,69,86,0.06) !important;
        }
        .search-result-info .price { color: var(--color-cta) !important; }
        .search-result-info .category { color: rgba(39,69,86,0.6) !important; }


        /* Scroll top button */
        .scroll-top-btn {
            background: var(--color-cta) !important;
            box-shadow: 0 4px 15px rgba(59, 130, 181, 0.2) !important;
        }
        .scroll-top-btn:hover { background: var(--color-accent) !important; }

        /* Hero banner */
        .hero-banner {
            background: linear-gradient(135deg, rgba(110,193,228,0.12) 0%, rgba(240,250,255,0.6) 100%) !important;
        }
        .hero-text h1 { color: var(--color-primary) !important; }
        .hero-text p { color: rgba(39,69,86,0.8) !important; }

        .btn-primary {
            background: #fff !important;
            color: var(--color-cta) !important;
            border: 2px solid var(--color-cta) !important;
        }
        .btn-primary:hover {
            background: var(--color-cta) !important;
            color: #fff !important;
        }

        .category-label {
            background: var(--color-accent) !important;
            color: #fff !important;
        }

        .section-title { color: var(--color-text) !important; }
        .section-title:after { background: var(--color-cta) !important; }

        /* Product cards */
        .product-card {
            background: #fff !important;
            border: 1px solid rgba(39,69,86,0.06) !important;
        }
        .product-details h3 { color: var(--color-text) !important; }
        .product-price .price { color: var(--color-cta) !important; }

        .add-to-cart {
            background: var(--color-cta) !important;
            color: #fff !important;
        }
        .add-to-cart:hover { background: var(--color-accent) !important; }

        /* Modal */
        .modal {
            background: rgba(39,69,86,0.75) !important;
        }
        .modal-content { background: #fff !important; color: var(--color-text) !important; }
        .modal-close:hover { background: var(--color-cta) !important; color: #fff !important; }

        /* Small global link/txt tweaks */
        a { color: var(--color-primary) !important; }
        a:hover { color: var(--color-accent) !important; }

        /* Highlight class for search results ‚Äî responsive to theme */
        .search-highlight { color: var(--color-cta); font-weight: 700; }

        /* Transitions */
        * { transition: color .12s ease, background-color .12s ease; }

        /* Tab content visibility */
        .paket-tab-content {
            display: none;
        }
        .paket-tab-content.active {
            display: block;
        }

        /* Styling for double nastar checkbox */
        .double-nastar-option {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 15px;
            padding: 12px 16px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            border: 2px solid var(--color-cta);
            transition: all 0.3s ease;
        }

        .double-nastar-option:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 181, 0.2);
        }

        .double-nastar-checkbox {
            display: none; /* Hide the default checkbox */
        }

        .double-nastar-checkbox + label {
            position: relative;
            padding-left: 35px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: var(--color-text);
            transition: color 0.3s ease;
        }

        .double-nastar-checkbox + label:before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background: #fff;
            border: 2px solid var(--color-cta);
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .double-nastar-checkbox:checked + label:before {
            background: var(--color-cta);
            border-color: var(--color-cta);
            box-shadow: inset 0 0 0 2px #fff;
        }

        .double-nastar-checkbox:checked + label {
            color: var(--color-cta);
        }

        .double-nastar-checkbox + label:after {
            content: '‚úì';
            position: absolute;
            left: 6px;
            top: 50%;
            transform: translateY(-50%);
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .double-nastar-checkbox:checked + label:after {
            opacity: 1;
        }

        /* ========== THEME SWITCH / DARK MODE OVERRIDES ========== */
        /* Ensure the site uses CSS variables; provide sensible defaults already in :root above.
           When html gets class "dark" we override the variables to dark-theme values. */
        html.dark {
            --color-primary: #9ad3ff;
            --color-accent:  #7fb2d9;
            --color-hover:   #6aa7c7;
            --color-bg:      #071025;    /* very dark navy */
            --color-text:    #e6f3fb;    /* very light text */
            --color-cta:     #0ea5a4;    /* teal-ish CTA on dark */
        }

        /* Apply base background/text colors using variables */
        body {
            background: var(--color-bg) !important;
            color: var(--color-text) !important;
            transition: background .2s ease, color .2s ease;
        }

        /* Header & search overlay adjustments for dark mode */
        html.dark header {
            background: linear-gradient(180deg, rgba(7,16,37,0.96), rgba(7,16,37,0.95)) !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.6) !important;
        }
        html.dark .search-section {
            background: rgba(10,20,40,0.85) !important;
            box-shadow: 0 8px 30px rgba(0,0,0,0.6) !important;
            color: var(--color-text);
        }
        html.dark .search-results {
            background: #071025 !important;
            color: var(--color-text) !important;
            box-shadow: 0 12px 36px rgba(0,0,0,0.6) !important;
        }
        html.dark .search-result-item { border-bottom: 1px solid rgba(255,255,255,0.04); }
        html.dark .search-result-info .category { color: rgba(230,243,251,0.7) !important; }

        html.dark .product-card { background: rgba(10,18,30,0.6) !important; border: 1px solid rgba(255,255,255,0.04) !important; }
        html.dark .product-details h3 { color: var(--color-text) !important; }
        html.dark .product-price .price { color: var(--color-cta) !important; }

        /* Modal */
        html.dark .modal { background: rgba(0,0,0,0.75) !important; }
        html.dark .modal-content { background: linear-gradient(180deg, rgba(8,14,24,0.95), rgba(12,20,34,0.95)) !important; color: var(--color-text) !important; }

        /* Scroll top button */
        html.dark .scroll-top-btn { background: var(--color-cta) !important; box-shadow: 0 4px 15px rgba(14,165,164,0.15) !important; }

        /* Theme switch button (top-right) */
        #theme-switch {
            position: fixed;
            top: 20px;
            right: 20px;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 30px;
            background: var(--c1);
            color: white;
            border: 2px solid var(--border);
            box-shadow: 0 4px 0px -1px var(--border);
            font-size: var(--fontS);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
        }

        #theme-switch.show {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.5s ease 0.5s, visibility 0.5s ease 0.5s;
        }

        #theme-switch:hover {
            background-color: var(--c2);
            box-shadow: 0 6px 0px -1px var(--border);
            transform: translateY(-2px);
        }

        #theme-switch:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0px -1px var(--border);
        }

        @media (max-width: 768px) {
        #theme-switch {
            position: fixed !important;
            right: 20px !important;
            bottom: 20px !important;
            top: unset !important;

            width: 60px !important;
            height: 60px !important;
            padding: 0 !important;
            border-radius: 50% !important;

            display: flex !important;
            align-items: center !important;
            justify-content: center !important;

            font-size: 26px !important;
        }
}
    </style>
</head>

<body>

    <button id="theme-switch" class="show">‚òÄ</button>


    <!-- Search Bar -->
    <div class="search-section">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Cari produk..." autocomplete="off">
            <button id="searchButton"><i class="fas fa-search"></i></button>

            <div class="search-results" id="searchResults"></div>
        </div>
        <div class="phone-icon">
            <i class="fa-solid fa-phone"></i>
        </div>
    </div>

    <!-- Tombol Menu -->
    <button class="toggle-btn" id="toggleBtn">Menu</button>

    <!-- Tombol Mobile Menu -->
    <button class="mobile-toggle" id="mobileToggle">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </button>

    <!-- Navbar -->
    <div class="nav-container" id="navContainer">
        <nav class="navbar" id="navbar">
            <div class="menu-grid">
                <div class="nav-item home">
                    <a class="nav-link" href="#homebg">
                        <span class="icon">üè†</span>
                        <h3>Home</h3>
                        <p>Temukan manisnya kue di sini</p>
                    </a>
                </div>
                <div class="nav-item sajian">
                    <a class="nav-link" href="#aboutUsPage">
                        <span class="icon">üë§</span>
                        <h3>About</h3>
                        <p>Ketahui lebih dalam tentang kami</p>
                    </a>
                </div>
                <div class="nav-item about">
                    <a class="nav-link" href="#menupop">
                        <span class="icon">ü•á</span>
                        <h3>Menu Populer</h3>
                        <p>Lihat menu populer kami</p>
                    </a>
                </div>
                <div class="nav-item paket">
                    <a class="nav-link" href="#shop">
                        <span class="icon">üç∞</span>
                        <h3>Menu</h3>
                        <p>Kumpulan menu yang lezat dan enak</p>
                    </a>
                </div>
                <div class="nav-item album">
                    <a class="nav-link" href="#">
                        <span class="icon">üéÅ</span>
                        <h3>Paket</h3>
                        <p>Satu paket, sejuta rasa manis</p>
                    </a>
                </div>
                <div class="nav-item meet">
                    <a class="nav-link" href="#meetus">
                        <span class="icon">üìû</span>
                        <h3>Meet Us At</h3>
                        <p>Koleksi manis dari dapur kami</p>
                    </a>
                </div>
            </div>
        </nav>
    </div>
    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section dropdown">
                <h3 class="dropdown-toggle">Vertical menu ‚ñæ</h3>

                <ul class="dropdown-menu">
                    <li><a href="#cake">Cake</a></li>
                    <li><a href="#bresd">Bread</a></li>
                    <li><a href="#Abon">Abon</a></li>
                    <li><a href="#Cookiekering">Cookie kering</a></li>
                    <li><a href="#paket-hemat">Paket Hemat</a></li>
                    <li><a href="#ekonomis">Ekonomis</a></li>
                    <li><a href="#paket-regular">Paket Regular</a></li>
                    <li><a href="#paket-puas">Paket Puas</a></li>
                </ul>
            </div>
        </aside>

        <!-- Button scrol ke atas -->
        <button class="scroll-top-btn" id="scrollTopBtn" onclick="scrollToTop()">
            <i class="fas fa-arrow-up"></i>
        </button>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Hero Banner -->
            <div id="cake">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Bolu Vanilla Keju</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/BOLUFINAL/bolu/boluvanillakeju.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <!-- Today Deals -->
                <h2 class="section-title">Cake</h2>
                <div class="product-grid" id="cake-products"></div>
            </div>
            <!-- Halaman roti -->
            <div id="bresd">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Roti Gambung Kuah Srikaya</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/BOLUFINAL/roti/bolugambungsrikaya.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Bread</h2>
                <div class="product-grid" id="bread-products"></div>
            </div>
            <!-- Halaman Abon -->
            <div id="Abon">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Abon</h2>
                <div class="product-grid" id="abon-products"></div>
            </div>
            <!-- Halaman Cookie kering -->
            <div id="Cookiekering">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <h2 class="section-title">Cookie kering</h2>
                <div class="product-grid" id="cookiekering-products"></div>
            </div>
            <!-- Halaman Bolu -->
            <div id="paket-hemat">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <section class="paket-section-container">
                    <section class="paket-spesial">
                        <h2>Paket Hemat</h2>
                        <div class="paket-tab-nav paket-sub-nav">
                            <button class="paket-tab-btn active" data-tab="hemat1">Hemat 1</button>
                            <button class="paket-tab-btn" data-tab="hemat2">Hemat 2</button>
                            <button class="paket-tab-btn" data-tab="hemat3">Hemat 3</button>
                        </div>
                        <div class="paket-tab-content-wrapper">
                            <div id="hemat1" class="paket-tab-content active">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/lidah kucing.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Lidah Kucing</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Kastengel</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/palm suger cheese.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Palm Sugar Cheese</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Hemat 1:</span>
                                    <span class="paket-total-price-amount">Rp 135.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-hemat1" class="double-nastar-checkbox" data-tab="hemat1">
                                    <label for="double-nastar-hemat1">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="hemat2" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Milk Cookies</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/sagu keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Sagu Keju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/thrumbprint stawberry.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Thumbprint Strawberry</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Hemat 2:</span>
                                    <span class="paket-total-price-amount">Rp 135.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-hemat2" class="double-nastar-checkbox" data-tab="hemat2">
                                    <label for="double-nastar-hemat2">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="hemat3" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/mawar vanilla.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Mawar Vanilla</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Kacang Jadul</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/palm suger cheese.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Palm Sugar Cheese</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Hemat 3:</span>
                                    <span class="paket-total-price-amount">Rp 135.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-hemat3" class="double-nastar-checkbox" data-tab="hemat3">
                                    <label for="double-nastar-hemat3">tambah double nastar</label>
                                </div>
                            </div>
                        </div>
                    </section>
                </section>
            </div>
            <!-- Halaman paket -->
            <div id="ekonomis">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <section class="paket-section-container">
                    <section class="paket-spesial">
                        <h2>Ekonomis</h2>
                        <div class="paket-tab-nav paket-sub-nav">
                            <button class="paket-tab-btn active" data-tab="ekonomis1">Ekonomis 1</button>
                            <button class="paket-tab-btn" data-tab="ekonomis2">Ekomonis 2</button>
                            <button class="paket-tab-btn" data-tab="ekonomis3">Ekonomis 3</button>
                        </div>
                        <div class="paket-tab-content-wrapper">
                            <div id="ekonomis1" class="paket-tab-content active">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/palm suger cheese.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Palm Sugar Cheese</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Ekonomis 1:</span>
                                    <span class="paket-total-price-amount">Rp 100.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-ekonomis1" class="double-nastar-checkbox" data-tab="ekonomis1">
                                    <label for="double-nastar-ekonomis1">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="ekonomis2" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Kastengel</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Ekonomis 2:</span>
                                    <span class="paket-total-price-amount">Rp 100.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-ekonomis2" class="double-nastar-checkbox" data-tab="ekonomis2">
                                    <label for="double-nastar-ekonomis2">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="ekonomis3" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Kastengel</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Ekonomis 3:</span>
                                    <span class="paket-total-price-amount">Rp 100.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-ekonomis3" class="double-nastar-checkbox" data-tab="ekonomis3">
                                    <label for="double-nastar-ekonomis3">tambah double nastar</label>
                                </div>
                            </div>
                        </div>
                    </section>
                </section>
            </div>
            <!-- Halaman paket regular -->
            <div id="paket-regular">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/gambar ilang.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <section class="paket-section-container">
                    <section class="paket-spesial">
                        <h2>Paket Regular</h2>
                        <div class="paket-tab-nav paket-sub-nav">
                            <button class="paket-tab-btn active" data-tab="reguler1">Reguler 1</button>
                            <button class="paket-tab-btn" data-tab="reguler2">Reguler 2</button>
                            <button class="paket-tab-btn" data-tab="reguler3">Reguler 3</button>
                        </div>
                        <div class="paket-tab-content-wrapper">
                            <div id="reguler1" class="paket-tab-content active">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/sagu keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Sagu Keju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/palm suger cheese.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Palm Sugar Cheese</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Reguler 1:</span>
                                    <span class="paket-total-price-amount">Rp 130.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-reguler1" class="double-nastar-checkbox" data-tab="reguler1">
                                    <label for="double-nastar-reguler1">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="reguler2" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Cookies Susu</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Cookies Nutella</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Reguler 2:</span>
                                    <span class="paket-total-price-amount">Rp 130.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-reguler2" class="double-nastar-checkbox" data-tab="reguler2">
                                    <label for="double-nastar-reguler2">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="reguler3" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Kacang Jadul</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/thrumbprint stawberry.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Thumbprint Strawberry</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Reguler 3:</span>
                                    <span class="paket-total-price-amount">Rp 130.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-reguler3" class="double-nastar-checkbox" data-tab="reguler3">
                                    <label for="double-nastar-reguler3">tambah double nastar</label>
                                </div>
                            </div>
                        </div>
                    </section>
                </section>
            </div>

            <div id="paket-puas">
                <section class="hero-banner">
                    <div class="hero-text">
                        <h1>Chocolate Cake</h1>
                        <p>Cake lembut coklat yang lembut dengan toping Cherry .</p>
                        <a href="#" class="btn-primary">Details ‚Üí</a>
                    </div>
                    <div class="hero-image">
                        <img src="gambar/beseler.jpg" alt="Strawberry Cupcake">
                    </div>
                </section>
                <section class="paket-section-container">
                    <section class="paket-spesial">
                        <h2>Paket Puas</h2>
                        <div class="paket-tab-nav paket-sub-nav">
                            <button class="paket-tab-btn active" data-tab="puas1">Puas 1</button>
                            <button class="paket-tab-btn" data-tab="puas2">Puas 2</button>
                            <button class="paket-tab-btn" data-tab="puas3">Puas 3</button>
                        </div>
                        <div class="paket-tab-content-wrapper">
                            <div id="puas1" class="paket-tab-content active">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Cookies Nutella</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Puas 1:</span>
                                    <span class="paket-total-price-amount">Rp 135.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-puas1" class="double-nastar-checkbox" data-tab="puas1">
                                    <label for="double-nastar-puas1">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="puas2" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Kastengel</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Puas 2:</span>
                                    <span class="paket-total-price-amount">Rp 135.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-puas2" class="double-nastar-checkbox" data-tab="puas2">
                                    <label for="double-nastar-puas2">tambah double nastar</label>
                                </div>
                            </div>
                            <div id="puas3" class="paket-tab-content">
                                <div class="paket-item-list">
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/nastar.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Nastar</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/Putri Salju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Putri Salju</h4>
                                        </div>
                                    </div>
                                    <!-- Item -->
                                    <div class="paket-menu-item">
                                        <img src="gambar/sagu keju.jpg" class="paket-item-img">
                                        <div class="paket-item-details">
                                            <h4>Sagu Keju</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="paket-total-price-container">
                                    <span class="paket-total-price-label">Total Puas 3:</span>
                                    <span class="paket-total-price-amount">Rp 135.000</span>
                                </div>
                                <div class="double-nastar-option">
                                    <input type="checkbox" id="double-nastar-puas3" class="double-nastar-checkbox" data-tab="puas3">
                                    <label for="double-nastar-puas3">tambah double nastar</label>
                                </div>
                            </div>
                        </div>
                    </section>
                </section>
            </div>
        </main>
    </div>

    <!-- === MODAL DETAIL PRODUK === -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&
            <div class="modal-body">
                <div class="modal-image-section">
                    <img id="modalImage" src="" alt="" class="modal-main-image">
                </div>
                <div class="modal-info-section">
                    <span id="modalCategory" class="modal-category"></span>
                    <h2 id="modalTitle"></h2>
                    <div class="modal-rating">
                        <div class="modal-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="modal-rating-text">(4.5/5 - 128 reviews)</span>
                    </div>
                    <div id="modalPrice" class="modal-price"></div>
                    <div class="modal-sizes" role="group" aria-label="Pilih ukuran">
                        <button class="size-btn active" data-size="S">S</button>
                        <button class="size-btn" data-size="M">M</button>
                        <button class="size-btn" data-size="L">L</button>
                    </div>
                    <p id="modalDescription" class="modal-description"></p>
                    <ul class="modal-details-list">
                    </ul>
                    <div class="modal-quantity">
                        <label>Jumlah:</label>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                            <input type="number" class="quantity-input" id="quantityInput" value="1" min="1">
                            <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button class="btn-add-cart" onclick="addToCart()">
                            <i class="fas fa-shopping-cart"></i> Tambah ke Keranjang
                        </button>
                        <button class="btn-whatsapp" onclick="orderWhatsApp()">
                            <i class="fab fa-whatsapp"></i> Pesan via WA
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New: Modal untuk pemesanan paket (ganti menjadi layout sama seperti product modal) -->
    <div id="packageOrderModal" class="modal" aria-hidden="true" role="dialog">
	<div class="modal-content">
		<button class="modal-close" id="packageModalClose">&times;</button>
		<div class="modal-body">
			<div class="modal-image-section">
				<img id="pkgModalImage" src="" alt="" class="modal-main-image">
			</div>
			<div class="modal-info-section">
				<span id="pkgModalCategory" class="modal-category">Paket</span>
				<h2 id="pkgModalTitle">Nama Paket</h2>

				<div class="modal-rating">
					<div class="modal-stars">
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star-half-alt"></i>
					</div>
					<span class="modal-rating-text">(4.5/5 - 128 reviews)</span>
				</div>

				<div id="pkgModalPrice" class="modal-price">Rp -</div>
				<p id="pkgModalDescription" class="modal-description">Deskripsi paket.</p>

				<ul id="pkgModalDetails" class="modal-details-list"></ul>

				<div class="modal-quantity">
					<label>Jumlah:</label>
					<div class="quantity-controls">
						<button class="quantity-btn" id="pkgQtyMinus">-</button>
						<input type="number" class="quantity-input" id="pkgQtyInput" value="1" min="1">
						<button class="quantity-btn" id="pkgQtyPlus">+</button>
					</div>
				</div>

				<div class="modal-actions">
					<button class="btn-add-cart" id="pkgAddCartBtn">
						<i class="fas fa-shopping-cart"></i> Tambah ke Keranjang
					</button>
					<button class="btn-whatsapp" id="pkgConfirmWaBtn">
						<i class="fab fa-whatsapp"></i> Pesan via WA
					</button>
				</div>
			</div>
		</div>
	</div>
</div>

    <script>
        document
        .querySelector('.dropdown-toggle')
        .addEventListener('click', function () {
            this.parentElement.classList.toggle('open');
        });
        

        // Show navbar elements on page load
        document.addEventListener('DOMContentLoaded', function () {
            const toggleBtn = document.getElementById('toggleBtn');
            const mobileToggle = document.getElementById('mobileToggle');
            const navContainer = document.querySelector('.nav-container');
            const navbar = document.getElementById('navbar');
            if (toggleBtn) toggleBtn.classList.add('show');
            if (mobileToggle) mobileToggle.classList.add('show');
            if (navContainer) navContainer.classList.add('show');
            // Navbar will be hidden by default, only show when toggled
        });

        // ===== NAVBAR FUNCTIONALITY =====
        const toggleBtn = document.getElementById('toggleBtn');
        const mobileToggle = document.getElementById('mobileToggle');
        const navbar = document.getElementById('navbar');

        let isNavOpen = false;

        // Toggle menu functionality
        function toggleMenu() {
            if (!isNavOpen) {
                navbar.classList.add('active');
                navbar.classList.remove('closing');
                toggleBtn.textContent = '‚úï Close';
                mobileToggle.classList.add('active');
                isNavOpen = true;
            } else {
                navbar.classList.add('closing');
                navbar.classList.remove('active');
                toggleBtn.textContent = '‚ò∞ Menu';
                mobileToggle.classList.remove('active');

                setTimeout(() => {
                    navbar.classList.remove('closing');
                }, 400);

                isNavOpen = false;
            }
        }

        // Event listeners for toggle buttons
        toggleBtn.addEventListener('click', toggleMenu);
        mobileToggle.addEventListener('click', toggleMenu);

        // Close menu when clicking nav items
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                if (isNavOpen) {
                    toggleMenu();
                }
                // Navigate to section
                const sectionId = item.classList[1]; // Get second class (home, about, etc.)
                navigateToSection(sectionId);
            });
        });

        // Navigation mapping
        function navigateToSection(sectionClass) {

            let targetId = '';
            switch (sectionClass) {
                case 'home':
                case 'about':
                case 'sajian':
                    targetId = 'cake';
                    break;
                case 'paket':
                    targetId = 'paket';
                    break;
                case 'album':
                case 'meet':
                    targetId = 'paketnas';
                    break;
            }
            if (targetId) {
                const element = document.getElementById(targetId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }

        // Close menu when clicking outside
        document.addEventListener('click', function (event) {
            if (isNavOpen &&
                !navbar.contains(event.target) &&
                !toggleBtn.contains(event.target) &&
                !mobileToggle.contains(event.target)) {
                toggleMenu();
            }
        });



        // Button scrol ke atas
        // Scroll to Top Functionality
        const scrollTopBtn = document.getElementById('scrollTopBtn');

        // Show/hide button based on scroll position
        window.addEventListener('scroll', function () {
            if (window.pageYOffset > 300) {
                scrollTopBtn.classList.add('show');
            } else {
                scrollTopBtn.classList.remove('show');
            }
        });
        // Scroll to top function
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Pricing Configuration Section - Special section for individual product pricing system
        const pricingConfig = {
            // Individual product pricing - each product has its own pricing structure
            products: {
                // Cake products
                1: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 45000 } }, // Bolu Vanilla Original
                2: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Vanilla Keju
                3: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 60000 } }, // Bolu Caramel
                4: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Tapai Singkong
                5: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Tapai Ketan
                6: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Marmer/Bolu Zebra
                7: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Pisang
                8: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Coffee
                9: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Pandan
                10: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 55000 } }, // Bolu Gula Merah/Aren Spikuk
                11: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 60000 } }, // Bolu Coklat /* BE */
                12: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 85000 } }, // Brownies Kukus
                13: { basePrice: 25000, sizes: { S: 0, M: 15000, L: 10000 } }, // Roll Cake (Bolu Gulung)

                // Bread products (no size variations)
                14: { basePrice: 20000, sizes: {} }, // Roti Coklat
                15: { basePrice: 20000, sizes: {} }, // Roti Keju
                16: { basePrice: 25000, sizes: {} }, // Roti Tawar
                17: { basePrice: 25000, sizes: {} }, // Roti Tawar
                18: { basePrice: 20000, sizes: {} }, // Roti Tawar
                19: { basePrice: 25000, sizes: {} }, // Roti Tawar

                // Abon products (no size variations)
                20: { basePrice: 25000, sizes: {} }, // Abon Ayam
                21: { basePrice: 30000, sizes: {} }, // Abon Sapi

                // Cookie Kering products (dropdown sizes)
                22: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 20000, 'Toples Tabung (800 ml)': 40000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 35000 } }, // Cookie Chocolate Chip
                23: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                24: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                25: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                26: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                27: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                28: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                29: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                30: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                31: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 25000, 'Toples Tabung (800 ml)': 45000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 40000 } }, // Cookie Vanilla
                32: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                33: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } }, // Cookie Vanilla
                34: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 40000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 35000 } }, // Cookie Vanilla
                35: { basePrice: 35000, sizes: { 'Toples Tabung (300 ml)': 0, 'Toples Tabung (600 ml)': 15000, 'Toples Tabung (800 ml)': 35000, 'Toples Bulat (250 gr)': 0, 'Toples Bulat (500 gr)': 30000 } } // Cookie Vanilla
                // Bolu products (different pricing from Cake)

            }
        };

        // Database Produk - enhanced with descriptions
        const productsDatabase = [
            // Sections
            { id: 100, name: 'Cake', category: 'Section', image: 'gambar/BOLUFINAL/bolu/boluvanillakeju.jpg', description: 'Koleksi kue basah lezat dan segar' },
            { id: 101, name: 'Bread', category: 'Section', image: 'gambar/BOLUFINAL/roti/bolugambungsrikaya.jpg', description: 'Aneka roti dan kue kering yang enak' },
            { id: 102, name: 'Abon', category: 'Section', image: 'gambar/BOLUFINAL/lainnya/rabukayam.jpg', description: 'Abon ayam dan sapi berkualitas' },
            { id: 103, name: 'Cookie Kering', category: 'Section', image: 'gambar/nastar.jpg', description: 'Kue kering dan cookies untuk berbagai acara' },
            { id: 104, name: 'Paket Hemat', category: 'Section', image: 'gambar/nastar.jpg', description: 'Paket hemat dengan berbagai pilihan cookies' },
            { id: 105, name: 'Ekonomis', category: 'Section', image: 'gambar/nastar.jpg', description: 'Paket ekonomis untuk kebutuhan sehari-hari' },
            { id: 106, name: 'Paket Regular', category: 'Section', image: 'gambar/nastar.jpg', description: 'Paket regular dengan pilihan lengkap' },
            { id: 107, name: 'Paket Puas', category: 'Section', image: 'gambar/beseler.jpg', description: 'Paket puas untuk acara spesial' },
            // Packages
            { id: 200, name: 'Hemat 1', price: 135000, category: 'Paket', sectionId: 'paket-hemat', tabId: 'hemat1', image: 'gambar/nastar.jpg', description: 'Paket hemat dengan 5 jenis cookies' },
            { id: 201, name: 'Hemat 2', price: 135000, category: 'Paket', sectionId: 'paket-hemat', tabId: 'hemat2', image: 'gambar/nastar.jpg', description: 'Paket hemat dengan variasi cookies' },
            { id: 202, name: 'Hemat 3', price: 135000, category: 'Paket', sectionId: 'paket-hemat', tabId: 'hemat3', image: 'gambar/nastar.jpg', description: 'Paket hemat pilihan terbaik' },
            { id: 203, name: 'Ekonomis 1', price: 100000, category: 'Paket Hampers', sectionId: 'ekonomis', tabId: 'ekonomis1', image: 'gambar/nastar.jpg', description: 'Paket ekonomis dengan 3 jenis cookies' },
            { id: 204, name: 'Ekonomis 2', price: 100000, category: 'Paket Hampers', sectionId: 'ekonomis', tabId: 'ekonomis2', image: 'gambar/nastar.jpg', description: 'Paket ekonomis pilihan populer' },
            { id: 205, name: 'Ekonomis 3', price: 100000, category: 'Paket Hampers', sectionId: 'ekonomis', tabId: 'ekonomis3', image: 'gambar/nastar.jpg', description: 'Paket ekonomis untuk semua kalangan' },
            { id: 206, name: 'Reguler 1', price: 130000, category: 'Paket Hampers', sectionId: 'paket-regular', tabId: 'reguler1', image: 'gambar/nastar.jpg', description: 'Paket regular dengan 4 jenis cookies' },
            { id: 207, name: 'Reguler 2', price: 130000, category: 'Paket Hampers', sectionId: 'paket-regular', tabId: 'reguler2', image: 'gambar/nastar.jpg', description: 'Paket regular pilihan lengkap' },
            { id: 208, name: 'Reguler 3', price: 130000, category: 'Paket Hampers', sectionId: 'paket-regular', tabId: 'reguler3', image: 'gambar/nastar.jpg', description: 'Paket regular untuk acara spesial' },
            { id: 209, name: 'Puas 1', price: 135000, category: 'Paket', sectionId: 'paket-puas', tabId: 'puas1', image: 'gambar/nastar.jpg', description: 'Paket puas dengan 3 jenis cookies' },
            { id: 210, name: 'Puas 2', price: 135000, category: 'Paket', sectionId: 'paket-puas', tabId: 'puas2', image: 'gambar/nastar.jpg', description: 'Paket puas pilihan premium' },
            { id: 211, name: 'Puas 3', price: 135000, category: 'Paket', sectionId: 'paket-puas', tabId: 'puas3', image: 'gambar/nastar.jpg', description: 'Paket puas untuk kepuasan maksimal' },
            // Cake
            { id: 1, name: 'Bolu Vanilla Original', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/vanillaori.jpg', description: 'Cake lembut dengan krim vanilla yang creamy dan lezat. Cocok untuk berbagai acara spesial.' },
            { id: 2, name: 'Bolu Vanilla Keju', price: 20000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/vanillakeju.jpg', description: 'Cake dengan topping blueberry segar yang manis dan asam. Perpaduan sempurna antara cake lembut dan buah segar.' },
            { id: 3, name: 'Bolu Caramel', price: 25000, category: 'Cake', image: 'gambar/gambar ilang.jpg', description: 'Cake strawberry dengan topping buah strawberry segar. Rasa manis alami berpadu dengan tekstur cake yang lembut.' },
            { id: 4, name: 'Bolu Tapai Singkong', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolutapaisingkong.jpg', description: 'Red velvet cake klasik dengan cream cheese frosting yang lezat. Tekstur lembut dengan warna merah cantik.' },
            { id: 5, name: 'Bolu Tapai Ketan', price: 20000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolutapaiketan.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 6, name: 'Bolu Marmer/Bolu Zebra', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolumarmer (2).jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 7, name: 'Bolu Pisang', price: 25000, category: 'Cake', image: 'gambar/gambar ilang.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 8, name: 'Bolu Coffee', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/roticoklatkopi.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 9, name: 'Bolu Pandan', price: 25000, category: 'Cake', image: 'gambar/gambar ilang.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 10, name: 'Bolu Gula Merah/Aren Spikuk', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolugulamerah.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 11, name: 'Bolu Coklat', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolucoklat.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 12, name: 'Brownies Kukus', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolukukus.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            { id: 13, name: 'Roll Cake (Bolu Gulung)', price: 25000, category: 'Cake', image: 'gambar/BOLUFINAL/bolu/bolugulung.jpg', description: 'Cake coklat intens dengan tekstur moist dan rasa coklat yang kaya. Topping cherry memberikan sentuhan asam manis.' },
            // Bread
            { id: 14, name: 'Gambung Kuah Srikaya', price: 20000, category: 'Bread', image: 'gambar/BOLUFINAL/roti/bolugambungsrikaya.jpg', description: 'Roti lembut dengan isian coklat yang lumer. Cocok untuk sarapan atau camilan.' },
            { id: 15, name: 'Gambung isi Mentega', price: 20000, category: 'Bread', image: 'gambar/gambar ilang.jpg', description: 'Roti gurih dengan taburan keju mozarella yang meleleh. Sempurna saat hangat.' },
            { id: 16, name: 'Gambung isi Coklat + Mentega', price: 25000, category: 'Bread', image: 'gambar/gambar ilang.jpg', description: 'Roti tawar premium tanpa pengawet, lembut dan tahan lama. Cocok untuk sandwich atau toast.' },
            { id: 17, name: 'Gambung isi Campur', price: 25000, category: 'Bread', image: 'gambar/BOLUFINAL/roti/gambungcampur.jpg', description: 'Roti tawar premium tanpa pengawet, lembut dan tahan lama. Cocok untuk sandwich atau toast.' },
            { id: 18, name: 'Gambung Butter Palm Sugar', price: 20000, category: 'Bread', image: 'gambar/BOLUFINAL/roti/gambungglapalm.jpg', description: 'Roti tawar premium tanpa pengawet, lembut dan tahan lama. Cocok untuk sandwich atau toast.' },
            { id: 19, name: 'Roti Kasur', price: 25000, category: 'Bread', image: 'gambar/BOLUFINAL/roti/rotikasur (3).jpg', description: 'Roti tawar premium tanpa pengawet, lembut dan tahan lama. Cocok untuk sandwich atau toast.' },
            // Abon
            { id: 20, name: 'Rabuk Ayam', price: 25000, category: 'Abon', image: 'gambar/BOLUFINAL/lainnya/rabukayam.jpg', description: 'Abon ayam homemade dengan tekstur lembut dan rasa gurih. Dibuat tanpa MSG.' },
            { id: 21, name: 'Rabuk Telang', price: 30000, category: 'Abon', image: 'gambar/BOLUFINAL/lainnya/rabukikan.jpg', description: 'Abon sapi premium dengan serat halus dan rasa kaya. Cocok untuk lauk atau taburan nasi.' },
            // Cookie Kering
            { id: 22, name: 'Nastar', price: 35000, category: 'Cookie Kering', image: 'gambar/nastar.jpg', description: 'Paket nastar tradisional dengan isian nanas asli. Tekstur lembut dan rasa manis yang autentik. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Lidah Kucing', 'Putri Salju', 'Kastengel', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 23, name: 'Kastengel', price: 35000, category: 'Cookie Kering', image: 'gambar/nastar keju.jpg', description: 'Nastar premium dengan variasi rasa nanas, keju, dan coklat. Kemasan elegan untuk acara spesial. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Milk Cookies (Janit)', 'Sagu Keju', 'Putri Salju', 'Thumbprint Strawberry', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 24, name: 'Putri Salju', price: 35000, category: 'Cookie Kering', image: 'gambar/putri salju.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 25, name: 'Lidah Kucing', price: 35000, category: 'Cookie Kering', image: 'gambar/lidah kucing.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 26, name: 'Thrumbprint Stawberry', price: 35000, category: 'Cookie Kering', image: 'gambar/thrumbprint stawberry.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 27, name: 'Mawar Vanilla', price: 35000, category: 'Cookie Kering', image: 'gambar/mawar vanilla.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 28, name: 'Cookies Palm Suger Cheese', price: 35000, category: 'Cookie Kering', image: 'gambar/palm suger cheese.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 29, name: 'Sagu Keju Pandan', price: 35000, category: 'Cookie Kering', image: 'gambar/sagu keju pandan.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 30, name: 'Sagu Keju Ori', price: 35000, category: 'Cookie Kering', image: 'gambar/BOLUFINAL/cookies/sagukeju (4).jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 31, name: 'Nastar Keju', price: 35000, category: 'Cookie Kering', image: 'gambar/nastar keju sungguh.jpg ', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 32, name: 'Cookies Susu', price: 35000, category: 'Cookie Kering', image: 'gambar/BOLUFINAL/cookies/cookiessusu (2).jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 33, name: 'Kacang Jadul', price: 35000, category: 'Cookie Kering', image: 'gambar/BOLUFINAL/cookies/kacangjadul.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 34, name: 'Cookies Nutella', price: 35000, category: 'Cookie Kering', image: 'gambar/gambar ilang.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] },
            { id: 35, name: 'Emping Madu', price: 35000, category: 'Cookie Kering', image: 'gambar/BOLUFINAL/cookies/empingmadu.jpg', description: 'Paket nastar spesial dengan isian nanas premium dan keju. Cocok untuk Lebaran atau acara formal. Isi 5 macam cookies ukuran toples 250gr', details: ['Nastar', 'Putri Salju', 'Mawar Vanilla', 'Kacang Jadul', 'Palm Sugar Cheese', 'Jika tambah Nastar double maka tambah harga 10k'] }
            // Paket Hampers
            ];

        // Fungsi format Rupiah
        function formatRupiah(amount) {
            if (amount == null || isNaN(amount)) return 'Harga belum ditentukan';
            return 'Rp ' + amount.toLocaleString('id-ID');
        }

        const sizePriceAdjustments = { S: 0, M: 5000, L: 10000 };

        function calculateSizePrice(basePrice, size, productId) {
            const productPricing = pricingConfig.products[productId];
            if (!productPricing) return basePrice;
            const adjustment = productPricing.sizes[size] || 0;
            return productPricing.basePrice + adjustment;
        }

        function calculateCookieSizePrice(basePrice, size, productId) {
            const productPricing = pricingConfig.products[productId];
            if (!productPricing) return basePrice;
            const adjustment = productPricing.sizes[size] || 0;
            return productPricing.basePrice + adjustment;
        }

        // Fungsi untuk render produk berdasarkan kategori
        function renderProductsByCategory(category, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            const products = productsDatabase.filter(product => {
                const normalizedCategory = product.category.toLowerCase().replace(/\s+/g, '');
                const normalizedTarget = category.toLowerCase().replace(/\s+/g, '');
                return normalizedCategory === normalizedTarget;
            });
            container.innerHTML = '';
            // Check if this container should have no sizes but keep modal
            const noSizeButModal = ['paket-hemat-products', 'ekonomis-products', 'paket-regular-products', 'paket-puas-products'].includes(containerId);
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.dataset.productId = product.id;

                let sizeHtml = '';
                let defaultSize = 'S';
                let priceDisplay = formatRupiah(product.price);
                let descriptionHtml = '';

                if (category === 'Bread' || category === 'Abon' || noSizeButModal) {
                    // No size selection for Bread, Abon or specified containers
                    sizeHtml = '';
                    priceDisplay = formatRupiah(product.price);
                    // Add description for packages
                    if (noSizeButModal) {
                        let desc = product.description;
                        if (product.details && product.details.length > 0) {
                            desc += ' Isi: ' + product.details.slice(0, -1).join(', ') + '.';
                        }
                        descriptionHtml = `<p class="product-description">${desc}</p>`;
                    }
                } else if (category === 'Cookie Kering') {
                    // Dropdown for Cookie Kering sizes
                    sizeHtml = `
                    <div class="product-sizes" role="group" aria-label="Pilih ukuran">
                        <select class="size-dropdown" data-product-id="${product.id}">
                            <option value="Toples Tabung (300 ml)">Toples Tabung (300 ml)</option>
                            <option value="Toples Tabung (600 ml)">Toples Tabung (600 ml)</option>
                            <option value="Toples Tabung (800 ml)">Toples Tabung (800 ml)</option>
                            <option value="Toples Bulat (250 gr)">Toples Bulat (250 gr)</option>
                            <option value="Toples Bulat (500 gr)">Toples Bulat (500 gr)</option>
                        </select>
                    </div>
                    `;
                    defaultSize = 'Toples Tabung (300 ml)';
                    priceDisplay = formatRupiah(calculateCookieSizePrice(product.price, defaultSize, product.id));
                } else {
                    // Special handling for size restrictions for other categories
                    const isBoluCoklat = product.name === 'Bolu Coklat';
                    const isBrowniesKukus = product.name === 'Brownies Kukus';
                    const isBoluGulung = product.name === 'Roll Cake (Bolu Gulung)';

                    let sDisabled = '';
                    let lDisabled = '';

                    if (isBoluCoklat || isBrowniesKukus) {
                        sDisabled = 'disabled';
                        defaultSize = 'M';
                    } else if (isBoluGulung) {
                        sDisabled = 'disabled';
                        lDisabled = 'disabled';
                        defaultSize = 'M';
                    }

                    sizeHtml = `
                    <div class="product-sizes" role="group" aria-label="Pilih ukuran">
                        <button class="size-btn" data-size="S" ${sDisabled}>S</button>
                        <button class="size-btn" data-size="M">M</button>
                        <button class="size-btn" data-size="L" ${lDisabled}>L</button>
                    </div>
                    `;
                    priceDisplay = formatRupiah(calculateSizePrice(product.price, defaultSize, product.id));
                }

                let buttonHtml = noSizeButModal ? `<button class="add-to-cart" data-product-id="${product.id}">Lihat Detail</button>` : `<button class="add-to-cart" data-product-id="${product.id}">Lihat Detail</button>`;

                productCard.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="product-details">
                    <h3>${product.name}</h3>
                    ${descriptionHtml}
                    ${sizeHtml}
                    <div class="product-price">
                        <span class="price">${priceDisplay}</span>
                    </div>
                    ${buttonHtml}
                </div>
            `;
                container.appendChild(productCard);
                productCard.dataset.basePrice = product.price;
                productCard.dataset.selectedSize = defaultSize;

                if ((category !== 'Bread' && !noSizeButModal)) {
                    if (category === 'Cookie Kering') {
                        // Handle dropdown for Cookie Kering
                        const dropdown = productCard.querySelector('.size-dropdown');
                        const priceElement = productCard.querySelector('.price');
                        dropdown.value = defaultSize;
                        dropdown.addEventListener('change', () => {
                            const selectedSize = dropdown.value;
                            productCard.dataset.selectedSize = selectedSize;
                            priceElement.textContent = formatRupiah(calculateCookieSizePrice(product.price, selectedSize, product.id));
                        });
                    } else {
                        // Handle buttons for other categories
                        const sizeButtons = productCard.querySelectorAll('.size-btn');
                        const priceElement = productCard.querySelector('.price');
                        sizeButtons.forEach(btn => {
                            btn.addEventListener('click', () => {
                                if (btn.disabled) return; // Skip if disabled
                                const size = btn.dataset.size;
                                productCard.dataset.selectedSize = size;
                                sizeButtons.forEach(button => button.classList.remove('active'));
                                btn.classList.add('active');
                                priceElement.textContent = formatRupiah(calculateSizePrice(product.price, size, product.id));
                            });
                        });
                        // Set initial active state
                        const initialActiveBtn = productCard.querySelector(`.size-btn[data-size="${defaultSize}"]`);
                        if (initialActiveBtn) {
                            initialActiveBtn.classList.add('active');
                        }
                    }
                }
            });
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    const productId = this.dataset.productId;
                    showProductDetail(productId);
                });
            });
        }

        // === MODAL FUNCTIONS ===
        function showProductDetail(productId) {
            const product = productsDatabase.find(p => p.id == productId);
            if (!product) return;
            const productCard = document.querySelector(`.product-card[data-product-id="${productId}"]`);
            let defaultSize = 'S';
            if (product.category === 'Cookie Kering') {
                defaultSize = 'Toples Tabung (300 ml)';
            }
            const selectedSize = productCard ? productCard.dataset.selectedSize || defaultSize : defaultSize;

            // Get the price from the card to ensure it matches
            let modalPriceText;
            let selectedPrice;
            if (productCard) {
                const cardPriceElement = productCard.querySelector('.price');
                if (cardPriceElement) {
                    modalPriceText = cardPriceElement.textContent;
                    // Parse the price back to number for dataset
                    selectedPrice = parseInt(cardPriceElement.textContent.replace(/[^\d]/g, ''), 10);
                } else {
                    modalPriceText = formatRupiah(product.price);
                    selectedPrice = product.price;
                }
            } else {
                modalPriceText = formatRupiah(product.price);
                selectedPrice = product.price;
            }

            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalCategory').textContent = product.category;
            document.getElementById('modalPrice').textContent = modalPriceText;
            document.getElementById('modalDescription').textContent = product.description;
            document.getElementById('modalImage').src = product.image;
            document.getElementById('modalImage').alt = product.name;

            // Set up size buttons in modal
            const modalSizeButtons = document.querySelectorAll('.modal-sizes .size-btn');
            const isBoluCoklat = product.name === 'Bolu Coklat';
            const isBrowniesKukus = product.name === 'Brownies Kukus';
            const isBoluGulung = product.name === 'Roll Cake (Bolu Gulung)';

            // Clear existing modal size buttons
            const modalSizesContainer = document.querySelector('.modal-sizes');
            modalSizesContainer.innerHTML = '';

            // No size buttons for package products (IDs 44-48)
            if (product.id >= 44 && product.id <= 48) {
                // No size buttons for packages
            } else if (product.category === 'Bread' || product.category === 'Abon') {
                // No size buttons for Bread or Abon
            } else if (product.category === 'Cookie Kering') {
                // Dropdown for Cookie Kering sizes in modal - same as card
                modalSizesContainer.className = 'modal-sizes';
                const dropdown = document.createElement('select');
                dropdown.className = 'size-dropdown';
                dropdown.innerHTML = `
                    <option value="Toples Tabung (300 ml)">Toples Tabung (300 ml)</option>
                    <option value="Toples Tabung (600 ml)">Toples Tabung (600 ml)</option>
                    <option value="Toples Tabung (800 ml)">Toples Tabung (800 ml)</option>
                    <option value="Toples Bulat (250 gr)">Toples Bulat (250 gr)</option>
                    <option value="Toples Bulat (500 gr)">Toples Bulat (500 gr)</option>
                `;
                dropdown.value = selectedSize;
                dropdown.addEventListener('change', () => {
                    const newSize = dropdown.value;
                    const newPrice = calculateCookieSizePrice(product.price, newSize, product.id);
                    document.getElementById('modalPrice').textContent = formatRupiah(newPrice);
                    modal.dataset.selectedSize = newSize;
                    modal.dataset.selectedPrice = newPrice;
                    // Update the product card dropdown as well
                    if (productCard) {
                        const cardDropdown = productCard.querySelector('.size-dropdown');
                        if (cardDropdown) {
                            cardDropdown.value = newSize;
                        }
                        const cardPriceElement = productCard.querySelector('.price');
                        if (cardPriceElement) {
                            cardPriceElement.textContent = formatRupiah(newPrice);
                        }
                    }
                });
                modalSizesContainer.appendChild(dropdown);
            } else {
                // Standard sizes for other categories
                const standardSizes = ['S', 'M', 'L'];
                standardSizes.forEach(size => {
                    let shouldDisable = false;

                    if ((isBoluCoklat || isBrowniesKukus) && size === 'S') {
                        shouldDisable = true;
                    } else if (isBoluGulung && (size === 'S' || size === 'L')) {
                        shouldDisable = true;
                    }

                    const btn = document.createElement('button');
                    btn.className = 'size-btn';
                    btn.dataset.size = size;
                    btn.textContent = size;
                    if (shouldDisable) {
                        btn.disabled = true;
                        btn.classList.add('disabled');
                    }
                    btn.classList.toggle('active', size === selectedSize);
                    btn.addEventListener('click', () => {
                        if (btn.disabled) return; // Skip if disabled
                        const allModalButtons = modalSizesContainer.querySelectorAll('.size-btn');
                        allModalButtons.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        const newSize = btn.dataset.size;
                        const newPrice = calculateSizePrice(product.price, newSize, product.id);
                        document.getElementById('modalPrice').textContent = formatRupiah(newPrice);
                        modal.dataset.selectedSize = newSize;
                        modal.dataset.selectedPrice = newPrice;
                        // Update the product card size as well
                        if (productCard) {
                            productCard.dataset.selectedSize = newSize;
                            const cardSizeButtons = productCard.querySelectorAll('.size-btn');
                            cardSizeButtons.forEach(b => b.classList.remove('active'));
                            const matchingBtn = productCard.querySelector(`.size-btn[data-size="${newSize}"]`);
                            if (matchingBtn) matchingBtn.classList.add('active');
                            const cardPriceElement = productCard.querySelector('.price');
                            if (cardPriceElement) {
                                cardPriceElement.textContent = formatRupiah(newPrice);
                            }
                        }
                    });
                    modalSizesContainer.appendChild(btn);
                });
            }

            // Populate details list dynamically
            const detailsList = document.querySelector('.modal-details-list');
            detailsList.innerHTML = '';
            if (product.details && product.details.length > 0) {
                product.details.forEach(detail => {
                    const li = document.createElement('li');
                    li.innerHTML = `<i class="fas fa-check-circle"></i> ${detail}`;
                    detailsList.appendChild(li);
                });
            } else {
                // Fallback for products without details
                detailsList.innerHTML = `
                    <li><i class="fas fa-check-circle"></i> Bahan berkualitas premium</li>
                    <li><i class="fas fa-check-circle"></i> Dibuat fresh setiap hari</li>
                    <li><i class="fas fa-check-circle"></i> Tanpa bahan pengawet</li>
                    <li><i class="fas fa-check-circle"></i> Kemasan menarik & aman</li>
                `;
            }

            document.getElementById('quantityInput').value = 1;
            const modal = document.getElementById('productModal');
            modal.dataset.productId = productId;
            modal.dataset.selectedSize = selectedSize;
            modal.dataset.selectedPrice = selectedPrice;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('productModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function increaseQuantity() {
            const input = document.getElementById('quantityInput');
            input.value = parseInt(input.value) + 1;
        }

        function decreaseQuantity() {
            const input = document.getElementById('quantityInput');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        function addToCart() {
            const modal = document.getElementById('productModal');
            const productId = modal.dataset.productId;
            const product = productsDatabase.find(p => p.id == productId);
            const selectedSize = modal.dataset.selectedSize || 'S';
            const selectedPrice = parseInt(modal.dataset.selectedPrice || product.price, 10);
            const quantity = document.getElementById('quantityInput').value;
            alert(`${product.name} ukuran ${selectedSize} (${quantity} pcs) berhasil ditambahkan ke keranjang dengan harga ${formatRupiah(selectedPrice)} masing-masing!`);
        }

        function orderWhatsApp() {
            const modal = document.getElementById('productModal');
            const productId = modal.dataset.productId;
            const product = productsDatabase.find(p => p.id == productId);
            const selectedSize = modal.dataset.selectedSize || 'S';
            const selectedPrice = parseInt(modal.dataset.selectedPrice || product.price, 10);
            const quantity = document.getElementById('quantityInput').value;
            const total = selectedPrice * quantity;
            const message = `Halo, saya ingin memesan:\nProduk: ${product.name}\nUkuran: ${selectedSize}\nJumlah: ${quantity} pcs\nHarga per pcs: ${formatRupiah(selectedPrice)}\nTotal: ${formatRupiah(total)}\nTerima kasih!`;
            const waNumber = '6281234567890'; // Ganti dengan nomor Anda
            const waUrl = `https://wa.me/${waNumber}?text=${encodeURIComponent(message)}`;
            window.open(waUrl, '_blank');
        }

        // Tutup modal saat klik di luar
        document.getElementById('productModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Tutup modal dengan ESC
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Fungsi untuk menginisialisasi semua produk
        function initProductSections() {
            renderProductsByCategory('Cake', 'cake-products');
            renderProductsByCategory('Bread', 'bread-products');
            renderProductsByCategory('Abon', 'abon-products');
            renderProductsByCategory('Cookie Kering', 'cookiekering-products');
            renderProductsByCategory('Paket', 'paket-hemat-products');
            renderProductsByCategory('Paket Hampers', 'ekonomis-products');
            renderProductsByCategory('Paket Hampers', 'paket-regular-products');
            renderProductsByCategory('Paket', 'paket-puas-products');
        }

        // === SEARCH FUNCTIONALITY (unchanged) ===
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const searchResults = document.getElementById('searchResults');
        let searchTimeout;

        function performSearch(query) {
            clearTimeout(searchTimeout);
            if (query.trim().length === 0) {
                searchResults.classList.remove('active');
                return;
            }
            searchResults.innerHTML = '<div class="search-loading"><i class="fas fa-spinner fa-spin"></i> Mencari...</div>';
            searchResults.classList.add('active');
            searchTimeout = setTimeout(() => {
                const results = productsDatabase.filter(product => {
                    const searchTerm = query.toLowerCase();
                    return product.name.toLowerCase().includes(searchTerm) ||
                        product.category.toLowerCase().includes(searchTerm) ||
                        (product.description && product.description.toLowerCase().includes(searchTerm));
                });
                displaySearchResults(results, query);
            }, 300);
        }

        function displaySearchResults(results, query) {
            if (results.length === 0) {
                searchResults.innerHTML = `
                <div class="search-no-results">
                    <i class="fas fa-search"></i>
                    <p>Tidak ada produk ditemukan untuk "${query}"</p>
                    <p style="font-size: 12px; margin-top: 10px;">Coba cari: cake, roti, abon, cookie</p>
                </div>
            `;
            } else {
                let resultsHTML = '';
                results.forEach(product => {
                    resultsHTML += `
                    <div class="search-result-item" data-product-id="${product.id}" data-category="${product.category}">
                        <img src="${product.image}" alt="${product.name}" class="search-result-img">
                        <div class="search-result-info">
                            <h4>${highlightText(product.name, query)}</h4>
                            <div class="price">${formatRupiah(product.price)}</div>
                            <div class="category">${product.category}</div>
                        </div>
                    </div>
                `;
                });
                searchResults.innerHTML = resultsHTML;
                document.querySelectorAll('.search-result-item').forEach(item => {
                    item.addEventListener('click', function () {
                        const productId = this.dataset.productId;
                        const category = this.dataset.category;
                        handleProductClick(productId, category);
                    });
                });
            }
        }

        function highlightText(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            // gunakan kelas agar warna bisa diubah oleh CSS darkmode
            return text.replace(regex, '<strong class="search-highlight">$1</strong>');
        }

        function handleProductClick(productId, category) {
            searchResults.classList.remove('active');
            searchInput.value = '';
            const product = productsDatabase.find(p => p.id == productId);
            if (!product) return;

            if (category === 'Section') {
                // Scroll to section
                const element = document.getElementById(product.name.toLowerCase().replace(/\s+/g, ''));
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            } else if (product.sectionId) {
                // Scroll to section and activate tab for packages
                const sectionElement = document.getElementById(product.sectionId);
                if (sectionElement) {
                    sectionElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    // Activate the specific tab
                    const tabBtn = sectionElement.querySelector(`.paket-tab-btn[data-tab="${product.tabId}"]`);
                    if (tabBtn) {
                        // Remove active from all tabs in this section
                        const allTabBtns = sectionElement.querySelectorAll('.paket-tab-btn');
                        const allTabContents = sectionElement.querySelectorAll('.paket-tab-content');
                        allTabBtns.forEach(btn => btn.classList.remove('active'));
                        allTabContents.forEach(content => content.classList.remove('active'));
                        // Activate the specific tab
                        tabBtn.classList.add('active');
                        const targetContent = sectionElement.querySelector(`#${product.tabId}`);
                        if (targetContent) {
                            targetContent.classList.add('active');
                        }
                    }
                }
            } else {
                // Handle regular products
                let targetId = '';
                switch (category) {
                    case 'Cake': targetId = 'cake'; break;
                    case 'Bread': targetId = 'bresd'; break;
                    case 'Abon': targetId = 'Abon'; break;
                    case 'Cookie Kering': targetId = 'Cookiekering'; break;
                }
                if (targetId) {
                    const element = document.getElementById(targetId);
                    if (element) {
                        const productElement = element.querySelector(`.product-card[data-product-id="${productId}"]`);
                        if (productElement) {
                            productElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            productElement.style.boxShadow = '0 0 20px rgba(232, 93, 117, 0.7)';
                            setTimeout(() => { productElement.style.boxShadow = ''; }, 2000);
                        }
                    }
                }
            }
        }

        // Event Listeners
        searchInput.addEventListener('input', (e) => performSearch(e.target.value));
        searchInput.addEventListener('focus', (e) => { if (e.target.value.trim().length > 0) performSearch(e.target.value); });
        searchButton.addEventListener('click', () => performSearch(searchInput.value));
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-bar')) {
                searchResults.classList.remove('active');
            }
        });
        searchInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') { e.preventDefault(); performSearch(searchInput.value); } });

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', initProductSections);

        // Tab functionality for new sections
        function initTabs() {
            const tabContainers = document.querySelectorAll('.paket-section-container');

            tabContainers.forEach(container => {
                const tabBtns = container.querySelectorAll('.paket-tab-btn');
                const tabContents = container.querySelectorAll('.paket-tab-content');

                tabBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        // Remove active class from all buttons and contents
                        tabBtns.forEach(b => b.classList.remove('active'));
                        tabContents.forEach(c => c.classList.remove('active'));

                        // Add active class to clicked button
                        btn.classList.add('active');

                        // Show corresponding content
                        const tabId = btn.dataset.tab;
                        const targetContent = container.querySelector(`#${tabId}`);
                        if (targetContent) {
                            targetContent.classList.add('active');
                        }
                    });
                });
            });
        }

        // Initialize tabs after DOM load
        document.addEventListener('DOMContentLoaded', initTabs);

        // Handle double nastar checkbox functionality
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.double-nastar-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const tabId = this.dataset.tab;
                    const container = document.getElementById(tabId);
                    if (!container) return;

                    const priceElement = container.querySelector('.paket-total-price-amount');
                    if (!priceElement) return;

                    const currentPriceText = priceElement.textContent.replace('Rp ', '').replace('.', '');
                    let currentPrice = parseInt(currentPriceText, 10);

                    if (this.checked) {
                        currentPrice += 10000; // Add 10k for double nastar
                    } else {
                        currentPrice -= 10000; // Subtract 10k when unchecked
                    }

                    priceElement.textContent = 'Rp ' + currentPrice.toLocaleString('id-ID');
                });
            });
        });

        // ==== REPLACE: initPaketBuyButtons & orderPackageWhatsApp with popup flow ====
        // ...existing code prior to previous initPaketBuyButtons ...
        // remove/override previous implementations by defining new functions below

        function initPaketBuyButtons() {
            const waNumber = '6281234567890'; // ganti jika perlu
            document.querySelectorAll('.paket-tab-content').forEach(container => {
                // jangan duplikat tombol kalau sudah ada
                if (container.querySelector('.btn-whatsapp-paket')) return;

                // cari product di database berdasarkan tabId
                const tabId = container.id;
                const pkg = productsDatabase.find(p => p.tabId === tabId);

                const btn = document.createElement('button');
                btn.className = 'btn-whatsapp btn-whatsapp-paket';
                btn.type = 'button';
                btn.textContent = 'Beli via WA';
                if (pkg) btn.dataset.packageId = pkg.id;

                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    openPackageModal(container, pkg ? pkg.id : null, waNumber);
                });

                // tempatkan tombol sebelum checkbox "tambah double nastar" jika ada,
                // otherwise append ke akhir kontainer
                const insertBeforeEl = container.querySelector('.double-nastar-option');
                if (insertBeforeEl) {
                    container.insertBefore(btn, insertBeforeEl);
                } else {
                    container.appendChild(btn);
                }
            });
        }

        function openPackageModal(containerElement, packageId = null, waNumber = '6281234567890') {
	const modal = document.getElementById('packageOrderModal');
	const titleEl = document.getElementById('pkgModalTitle');
	const priceEl = document.getElementById('pkgModalPrice');
	const descEl = document.getElementById('pkgModalDescription');
	const imgEl = document.getElementById('pkgModalImage');
	const detailsEl = document.getElementById('pkgModalDetails');
	const qtyInput = document.getElementById('pkgQtyInput');
	const categoryEl = document.getElementById('pkgModalCategory');

	// get package info from DB when available
	let packageName = '';
	let priceText = '';
	let descText = '';
	let imgSrc = '';
	if (packageId) {
		const pkg = productsDatabase.find(p => p.id == packageId);
		if (pkg) {
			packageName = pkg.name;
			descText = pkg.description || '';
			priceText = formatRupiah(pkg.price);
			imgSrc = pkg.image || '';
		}
	}

	// fallback read from DOM (harga bisa berubah setelah double-nastar)
	const labelEl = containerElement ? containerElement.querySelector('.paket-total-price-label') : null;
	const priceDomEl = containerElement ? containerElement.querySelector('.paket-total-price-amount') : null;
	if (!packageName && labelEl) packageName = labelEl.textContent.replace(':','').trim();
	if (priceDomEl) priceText = priceDomEl.textContent.trim();

	// populate modal
	titleEl.textContent = packageName || 'Paket';
	priceEl.textContent = priceText || 'Rp -';
	descEl.textContent = descText || '';
	categoryEl.textContent = 'Paket';
	if (imgSrc) {
		imgEl.src = imgSrc;
		imgEl.alt = packageName || 'Paket';
	} else {
		// jika tidak ada gambar, gunakan first item gambar dari container jika ada
		const firstImg = containerElement ? containerElement.querySelector('img') : null;
		if (firstImg) {
			imgEl.src = firstImg.src;
			imgEl.alt = packageName || firstImg.alt || 'Paket';
		} else {
			imgEl.src = '';
			imgEl.alt = '';
		}
	}

	// details: ambil dari productsDatabase jika ada, atau kosong
	detailsEl.innerHTML = '';
	if (packageId) {
		const pkg = productsDatabase.find(p => p.id == packageId);
		if (pkg && pkg.details && pkg.details.length) {
			pkg.details.forEach(d => {
				const li = document.createElement('li');
				li.innerHTML = `<i class="fas fa-check-circle"></i> ${d}`;
				detailsEl.appendChild(li);
			});
		}
	}

	qtyInput.value = 1;
	modal.dataset.packageId = packageId || '';
	modal.dataset.waNumber = waNumber;
	modal.dataset.containerId = containerElement ? containerElement.id : '';
	modal.classList.add('active');
	document.body.style.overflow = 'hidden';
}

function closePackageModal() {
	const modal = document.getElementById('packageOrderModal');
	modal.classList.remove('active');
	document.body.style.overflow = 'auto';
}

function confirmPackageOrder() {
	const modal = document.getElementById('packageOrderModal');
	const packageId = modal.dataset.packageId;
	const containerId = modal.dataset.containerId;
	const waNumber = modal.dataset.waNumber || '6281234567890';
	const qty = parseInt(document.getElementById('pkgQtyInput').value, 10) || 1;

	// determine package name & price (prefer DOM live price)
	let packageName = document.getElementById('pkgModalTitle').textContent;
	let priceText = document.getElementById('pkgModalPrice').textContent;

	if (containerId) {
		const container = document.getElementById(containerId);
		const priceDomEl = container ? container.querySelector('.paket-total-price-amount') : null;
		if (priceDomEl) priceText = priceDomEl.textContent.trim();
		const labelEl = container ? container.querySelector('.paket-total-price-label') : null;
		if (!packageName && labelEl) packageName = labelEl.textContent.replace(':','').trim();
	} else if (packageId) {
		const pkg = productsDatabase.find(p => p.id == packageId);
		if (pkg) {
			packageName = packageName || pkg.name;
			priceText = priceText || formatRupiah(pkg.price);
		}
	}

	const numeric = parseInt((priceText || '').replace(/[^\d]/g,''), 10) || 0;
	const total = numeric * qty;
	const totalText = numeric ? formatRupiah(total) : 'Rp -';

	const message = `Halo, saya ingin memesan:%0AProduk: ${packageName}%0AJumlah: ${qty}%0AHarga per paket: ${priceText}%0ATotal: ${totalText}%0ATerima kasih!`;
	const waUrl = `https://wa.me/${waNumber}?text=${message}`;
	window.open(waUrl, '_blank');
	closePackageModal();
}

// inisialisasi kontrol modal paket (tutup, +/-, confirm, add to cart)
document.addEventListener('DOMContentLoaded', function() {
	// init buy buttons (pastikan dipanggil setelah produk dirender)
	initPaketBuyButtons();

	const modalClose = document.getElementById('packageModalClose');
	if (modalClose) modalClose.addEventListener('click', closePackageModal);

	const plus = document.getElementById('pkgQtyPlus');
	const minus = document.getElementById('pkgQtyMinus');
	const qtyInput = document.getElementById('pkgQtyInput');
	const confirmBtn = document.getElementById('pkgConfirmWaBtn');
	const addCartBtn = document.getElementById('pkgAddCartBtn');

	if (plus) plus.addEventListener('click', () => { qtyInput.value = parseInt(qtyInput.value || 1) + 1; });
	if (minus) minus.addEventListener('click', () => { if (parseInt(qtyInput.value) > 1) qtyInput.value = parseInt(qtyInput.value) -1; });
	if (confirmBtn) confirmBtn.addEventListener('click', confirmPackageOrder);

	if (addCartBtn) addCartBtn.addEventListener('click', () => {
		const modal = document.getElementById('packageOrderModal');
		const packageName = document.getElementById('pkgModalTitle').textContent;
		const qty = document.getElementById('pkgQtyInput').value;
		alert(`${packageName} (${qty} pcs) ditambahkan ke keranjang (simulasi).`);
		closePackageModal();
	});

	// close modal when clicking background
	const pkgModal = document.getElementById('packageOrderModal');
	if (pkgModal) {
		pkgModal.addEventListener('click', function(e){
			if (e.target === this) closePackageModal();
		});
	}
});
    </script>
</body>
</html>